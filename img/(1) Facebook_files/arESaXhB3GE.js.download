if (self.CavalryLogger) { CavalryLogger.start_js(["ZSjyK"]); }

__d("TahoeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function a(b,c,d,e,f,g){"use strict";function h(){this.clear()}h.prototype.log=function(){c("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$TahoeTypedLogger1,c("Banzai").BASIC)};h.prototype.logVital=function(){c("GeneratedLoggerUtils").log("logger:TahoeLoggerConfig",this.$TahoeTypedLogger1,c("Banzai").VITAL)};h.prototype.clear=function(){this.$TahoeTypedLogger1={};return this};h.prototype.updateData=function(j){this.$TahoeTypedLogger1=babelHelpers["extends"]({},this.$TahoeTypedLogger1,j);return this};h.prototype.setChainDepth=function(j){this.$TahoeTypedLogger1.chain_depth=j;return this};h.prototype.setChainingContextIdentifier=function(j){this.$TahoeTypedLogger1.chaining_context_identifier=j;return this};h.prototype.setEvent=function(j){this.$TahoeTypedLogger1.event=j;return this};h.prototype.setIsAutoplaying=function(j){this.$TahoeTypedLogger1.is_autoplaying=j;return this};h.prototype.setMediaID=function(j){this.$TahoeTypedLogger1.media_id=j;return this};h.prototype.setUpNextMediaID=function(j){this.$TahoeTypedLogger1.up_next_media_id=j;return this};h.prototype.setVC=function(j){this.$TahoeTypedLogger1.vc=j;return this};var i={chain_depth:true,chaining_context_identifier:true,event:true,is_autoplaying:true,media_id:true,up_next_media_id:true,vc:true};f.exports=h}),null);
__d("TahoeEndScreenProgressCircle.react",["cx","React","ReactDOM","Style"],(function a(b,c,d,e,f,g,h){var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$TahoeEndScreenProgressCircle1=0,this.$TahoeEndScreenProgressCircle2=0,n}l.prototype.componentDidMount=function(){"use strict";this.drawProgressCircle(this.props)};l.prototype.componentWillUnmount=function(){"use strict";clearInterval(this.$TahoeEndScreenProgressCircle1)};l.prototype.componentWillReceiveProps=function(m){"use strict";if(m.makeProgress!==this.props.makeProgress||m.timeoutSec!==this.props.timeoutSec)this.drawProgressCircle(m)};l.prototype.drawProgressCircle=function(m){"use strict";var n=c("ReactDOM").findDOMNode(this.refs.progressCircle),o=this.$TahoeEndScreenProgressCircle2,p=o/100;c("Style").set(n,"stroke-dashoffset",o+"px");clearInterval(this.$TahoeEndScreenProgressCircle1);if(m.makeProgress)this.$TahoeEndScreenProgressCircle1=setInterval(function(){o-=p;c("Style").set(n,"stroke-dashoffset",o+"px");if(o<=0){clearInterval(this.$TahoeEndScreenProgressCircle1);c("Style").set(n,"stroke-dashoffset","0px");m.onProgressDone&&m.onProgressDone()}}.bind(this),m.timeoutSec*10)};l.prototype.render=function(){"use strict";var m=48,n=4,o=m/2,p=o-n/2;this.$TahoeEndScreenProgressCircle2=p*2*Math.PI;return c("React").createElement("div",null,c("React").createElement("svg",{className:"_4bcw"},c("React").createElement("circle",{cx:o,cy:o,r:o,fill:"rgba(0, 0, 0, 0.3)"}),c("React").createElement("circle",{ref:"progressCircle",cx:o,cy:o,r:p,fill:"transparent",stroke:"#ffffff",strokeWidth:n,strokeDasharray:this.$TahoeEndScreenProgressCircle2})),this.props.children)};l.propTypes={children:k.element,makeProgress:k.bool.isRequired,onProgressDone:k.func,timeoutSec:k.number.isRequired};f.exports=l}),null);
__d("TahoeEndScreenUpNextTile.react",["cx","fbt","DOM","DOMContainer.react","Image.react","ImageBlock.react","ProfileLink.react","ProfileTile.react","React","ResizeListener","ShimButton.react","TahoeEllipsisText.react","TahoeEndScreenProgressCircle.react"],(function a(b,c,d,e,f,g,h,i){var j,k,l=20;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={containerWidth:0,containerHeight:0,makeProgress:true,cancelButtonVisible:true},this.$TahoeEndScreenUpNextTile2=function(){if(this.container)this.setState({containerWidth:this.container.clientWidth,containerHeight:this.container.clientHeight})}.bind(this),o}m.prototype.componentDidMount=function(){"use strict";this.$TahoeEndScreenUpNextTile2();this.$TahoeEndScreenUpNextTile1=c("ResizeListener").add(this.$TahoeEndScreenUpNextTile2)};m.prototype.componentWillUnmount=function(){"use strict";this.$TahoeEndScreenUpNextTile1&&this.$TahoeEndScreenUpNextTile1.remove()};m.prototype.$TahoeEndScreenUpNextTile3=function(){"use strict";this.setState({cancelButtonVisible:false,makeProgress:false});if(this.props.onCancelClicked)this.props.onCancelClicked()};m.prototype.render=function(){"use strict";var n=c("DOM").create("span",undefined,this.props.titleText),o=0,p=0,q=Math.min(this.state.containerWidth,this.state.containerHeight);if(this.props.aspectRatio>=1){o=q;p=q/this.props.aspectRatio}else{p=q;o=q*this.props.aspectRatio}var r={backgroundImage:this.props.imageUrl?"url("+this.props.imageUrl+")":"none",width:o+"px",height:p+"px"},s=i._("A SEGUIR"),t=i._("Cancelar");return c("React").createElement("div",{className:"_6236",ref:function(u){return this.container=u}.bind(this)},c("React").createElement("div",{className:"_6237",style:r},c("React").createElement("div",{className:"_6238"},s),c("React").createElement(c("ShimButton.react"),{hidden:!this.state.cancelButtonVisible,className:"_6239",onClick:function(){return this.$TahoeEndScreenUpNextTile3()}.bind(this)},t),c("React").createElement("div",{className:"_6230"},c("React").createElement("div",{className:"_29y5"},c("React").createElement(c("TahoeEllipsisText.react"),{content:n,lines:1,lineHeight:l})),c("React").createElement("div",{className:"_6231"},c("React").createElement("span",null,c("React").createElement(c("ImageBlock.react"),{className:"_62sw"},c("React").createElement(c("ProfileTile.react"),{id:String(this.props.profileID),size:16}),c("React").createElement(c("ProfileLink.react"),{uid:String(this.props.profileID)},c("React").createElement(c("DOMContainer.react"),null,this.props.profileCard))),"\u2014",c("React").createElement("span",{className:"_6232"},this.props.viewCount)))),c("React").createElement("div",{className:"_2x_j"},c("React").createElement(c("TahoeEndScreenProgressCircle.react"),{makeProgress:this.state.makeProgress,onProgressDone:this.props.onCountdownDone,timeoutSec:this.props.countdownTimeoutSec},c("React").createElement(c("Image.react"),{onClick:this.props.onPlayClick,className:"_6235",src:"/images/video/player/embedded_controls/icons/play-2x.png"})))))};m.defaultProps={countdownTimeoutSec:3,aspectRatio:1};f.exports=m}),null);
__d("TahoeShareButton.react",["React","UFIShareNowMenuBootloader.react"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.render=function(){"use strict";var k=this.props,l=k.endpoint,m=k.endpointData;return c("React").createElement(c("UFIShareNowMenuBootloader.react"),{endpoint:l,endpointData:m,openOnInitOverride:false})};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("TahoeSidePanePlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:"_wxj _1-z7"},c("React").createElement("div",{className:"_1-z8"}),c("React").createElement("div",{className:"_1-za"}),c("React").createElement("div",{className:"_1-zb"}),c("React").createElement("div",{className:"_1-zf"}),c("React").createElement("div",{className:"_1-zg"}),c("React").createElement("div",{className:"_1-zh"}),c("React").createElement("div",{className:"_1-zi"}),c("React").createElement("div",{className:"_1-zj"}),c("React").createElement("div",{className:"_1-zk"}),c("React").createElement("div",{className:"_1-zl"}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("TahoeUpNextViewportTracking",["csx","StreamViewportTracking","ViewportTracking"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k="tahoe_up_next_videos";i=babelHelpers.inherits(l,c("StreamViewportTracking"));j=i&&i.prototype;l.prototype.getTimetrackingDataToLog=function(m){var n=j.getTimetrackingDataToLog.call(this,m);n.ft.src=k;return n};function l(){i.apply(this,arguments)}f.exports={setup:function m(n,o,p){var q=new l(c("StreamViewportTracking").getBehavior(n,o,"._bne",p));q.init(n);return q}}}),null);
__d("TahoeLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({END_SCREEN_SHOWN:"end_screen_shown",END_SCREEN_CANCEL:"end_screen_cancel",END_SCREEN_PLAY:"end_screen_play",END_SCREEN_COUNTDOWN_FINISH:"end_screen_countdown_finish",END_SCREEN_REPLAY:"end_screen_replay",EXIT_WITH_ESC:"exit_with_esc",EXIT_WITH_BACK_AFFORDANCE:"exit_with_back_affordance",EXIT_WITH_WNS_CONTROL:"exit_with_wns_control",ENTER_WITH_PLAYER_CLICK:"enter_with_player_click",ENTER_WITH_CONTROL_CLICK:"enter_with_control_click"})}),null);
__d("TahoeVideoFloatingReplayImage.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","ReactDOM","VideoWebDriverIDs","fbglyph"],(function a(b,c,d,e,f,g,h,i,j){var k,l;k=babelHelpers.inherits(m,c("React").Component);l=k&&k.prototype;m.prototype.onMouseOut=function(n){"use strict";c("ReactDOM").findDOMNode(this.refs.button).blur()};m.prototype.render=function(){"use strict";var n=h("115482"),o=j._("Reproduzir novamente"),p=c("React").createElement(c("Image.react"),{className:"_ity",src:n});return c("React").createElement(c("AbstractButton.react"),{className:"_itz","data-testid":c("VideoWebDriverIDs").PLAY_PAUSE_CONTROL,image:p,label:o,labelIsHidden:true,onClick:this.props.onClick,onMouseOut:this.onMouseOut.bind(this),ref:"button",type:"button"})};function m(){"use strict";k.apply(this,arguments)}f.exports=m}),null);
__d("TahoeVideoEndScreen",["cx","invariant","CSS","DOM","React","ReactDOM","TahoeEndScreenUpNextTile.react","TahoeVideoFloatingReplayImage.react","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","TahoeTypedLogger","TahoeLoggerEvent"],(function a(b,c,d,e,f,g,h,i){var j=c("VideoPlayerExperiments").endScreenDuration/1e3;function k(l){"use strict";this.$TahoeVideoEndScreen1=l||function(){};this.$TahoeVideoEndScreen3=function(){};this.$TahoeVideoEndScreen2=c("DOM").create("div",{className:"_1r-0 _2se8"})}k.prototype.showEndScreen=function(l,m,n,o,p){"use strict";l||i(0);var q=o?o.videoID:null;this.$TahoeVideoEndScreen3=function(r){new(c("TahoeTypedLogger"))().setEvent(r).setMediaID(n.videoID).setChainDepth(n.chainDepth).setChainingContextIdentifier(n.chainingContextIdentifier).setIsAutoplaying(m).setUpNextMediaID(q).log()};this.$TahoeVideoEndScreen3(c("TahoeLoggerEvent").END_SCREEN_SHOWN);c("CSS").addClass(l,"_1r-1");c("CSS").addClass(l,"_1s-2");l.appendChild(this.$TahoeVideoEndScreen2);if(m)this.$TahoeVideoEndScreen4(o||{},p);else this.$TahoeVideoEndScreen5()};k.prototype.$TahoeVideoEndScreen5=function(){"use strict";c("ReactDOM").render(c("React").createElement("div",{className:"_1szy"},c("React").createElement(c("VideoChannelProgressCircle.react"),{makeProgress:false,timeoutSec:j},c("React").createElement(c("VideoChannelReplayImage.react"),{onClick:function(){this.$TahoeVideoEndScreen3(c("TahoeLoggerEvent").END_SCREEN_REPLAY);this.$TahoeVideoEndScreen1()}.bind(this)}))),this.$TahoeVideoEndScreen2)};k.prototype.$TahoeVideoEndScreen4=function(l,m){"use strict";c("ReactDOM").render(c("React").createElement("div",null,c("React").createElement(c("TahoeEndScreenUpNextTile.react"),{countdownTimeoutSec:j,onCountdownDone:function(){this.$TahoeVideoEndScreen3(c("TahoeLoggerEvent").END_SCREEN_COUNTDOWN_FINISH);m(false)}.bind(this),onPlayClick:function(){this.$TahoeVideoEndScreen3(c("TahoeLoggerEvent").END_SCREEN_PLAY);m(true)}.bind(this),onCancelClicked:function(){this.$TahoeVideoEndScreen3(c("TahoeLoggerEvent").END_SCREEN_CANCEL)}.bind(this),titleText:l.title,viewCount:l.viewCount,imageUrl:l.imgUrl,profileCard:l.profileCard,aspectRatio:l.aspectRatio,profileID:l.profileID}),c("React").createElement(c("TahoeVideoFloatingReplayImage.react"),{onClick:function(){this.$TahoeVideoEndScreen3(c("TahoeLoggerEvent").END_SCREEN_REPLAY);this.$TahoeVideoEndScreen1()}.bind(this)})),this.$TahoeVideoEndScreen2)};k.prototype.endCountdown=function(l){"use strict";l||i(0);c("CSS").removeClass(l,"_1s-2");c("CSS").removeClass(l,"_1r-1");c("ReactDOM").unmountComponentAtNode(this.$TahoeVideoEndScreen2)};f.exports=k}),null);
__d("TahoeView",["csx","cx","CSS","DOM","DOMQuery","Event","EventProfiler","Keys","SubscriptionsHandler","TabBar","Tahoe"],(function a(b,c,d,e,f,g,h,i){function j(k,l,m){"use strict";this.$TahoeView4=k;this.$TahoeView5=this.$TahoeView4.getID()}j.prototype.$TahoeView12=function(){"use strict";c("CSS").addClass(this.$TahoeView8,"_4f4w");c("DOM").empty(this.$TahoeView10)};j.prototype.$TahoeView13=function(){"use strict";c("CSS").removeClass(this.$TahoeView8,"_4f4w");if(this.$TahoeView11){var k=c("DOM").find(this.$TahoeView8,"._3dj6");c("CSS").removeClass(k,"_3dj6");c("DOM").setContent(k,c("DOM").find(this.$TahoeView6,"._3dj7"));c("EventProfiler").informManualInteractionTimestamp(["Tahoe"],true,"click");this.$TahoeView11=false}};j.prototype.$TahoeView14=function(event){"use strict";if(event.keyCode===c("Keys").ESC&&!event.cancelBubble&&!event.defaultPrevented)this.$TahoeView4.onExit()};j.prototype.selectAddComment=function(){"use strict";var k=c("DOMQuery").scry(this.$TahoeView8,".UFIAddCommentInput");if(k[0]!=null)k[0].click();this.selectCommentTab()};j.prototype.selectCommentTab=function(){"use strict";var k=c("DOM").find(this.$TahoeView8,"._1rgu");c("CSS").addClass(k,"_601h");c("CSS").removeClass(k,"_601i")};j.prototype.selectUpNextTab=function(){"use strict";var k=c("DOM").find(this.$TahoeView8,"._1rgu");if(k!=null){c("CSS").addClass(k,"_601i");c("CSS").removeClass(k,"_601h")}};j.registerCommentLink=function(k){"use strict";var l=c("Tahoe").get();if(l)l.addEvent(c("Event").listen(k,"click",function(){return l.getView().selectAddComment()}))};f.exports=j}),null);
__d("XTahoeAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/tahoe/async/{id}/",{id:{type:"FBID",required:true},chain:{type:"Bool",defaultValue:false},externallogid:{type:"String"},isvideo:{type:"Bool",defaultValue:false},sponsoreddata:{type:"String"},originalmediaid:{type:"String"},preload:{type:"Bool",defaultValue:false},playerorigin:{type:"Enum",enumType:1},playersuborigin:{type:"String"},reactionvideochanneltype:{type:"Enum",enumType:1},ispermalink:{type:"Bool",defaultValue:false}})}),null);
__d("XTahoeUpNextAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/tahoe/upnext/async/{media_id}/",{channel_id:{type:"String"},media_id:{type:"FBID",required:true},viewed_videos:{type:"FBIDSet"},caller:{type:"Enum",enumType:1},chainingindex:{type:"Int"},cursor:{type:"String"}})}),null);
__d("TahoeVideoView",["csx","cx","Arbiter","AsyncRequest","CommercialBreakUtil","CSS","DOM","DOMQuery","Event","EventProfiler","HTML","Keys","React","ReactDOM","Set","SubscriptionsHandler","TabBar","Tahoe","TahoeLoggerEvent","TahoeSidePanePlaceholder.react","TahoeUpNextViewportTracking","TahoeView","TahoeVideoEndScreen","TimeSlice","URI","VideoPermalinkURI","VideoPlayerReason","VideoPlayerStates","XTahoeAsyncController","XTahoeUpNextAsyncController","ge","uuid"],(function a(b,c,d,e,f,g,h,i){var j,k,l="tahoe-preloaded-video",m=97,n=4;j=babelHelpers.inherits(o,c("TahoeView"));k=j&&j.prototype;function o(p,q,r){"use strict";k.constructor.call(this,p,q,r);this.$TahoeVideoView7=p;this.$TahoeVideoView9=this.$TahoeVideoView7.getID();this.$TahoeVideoView17=q;this.$TahoeVideoView18=r;this.$TahoeVideoView16=new(c("Set"))([this.$TahoeVideoView9]);this.$TahoeVideoView5=c("uuid")();this.$TahoeVideoView15=false;this.$TahoeVideoView7.addEvent(c("Event").listen(document,"keydown",this.$TahoeVideoView23.bind(this)));this.$TahoeVideoView14=c("CSS").setClass(c("DOM").create("div"),"_1e8c _2b-0");this.$TahoeVideoView12=c("CSS").setClass(c("DOM").create("div"),"_5-lm");this.$TahoeVideoView6=c("CSS").setClass(c("DOM").create("div"),"_17am");this.$TahoeVideoView10=c("CSS").setClass(c("DOM").create("div"),"hidden_elem");c("ReactDOM").render(c("React").createElement(c("TahoeSidePanePlaceholder.react"),null),this.$TahoeVideoView12);c("DOM").appendContent(this.$TahoeVideoView7.getContent(),this.$TahoeVideoView14);c("DOM").appendContent(this.$TahoeVideoView7.getContent(),this.$TahoeVideoView12);c("DOM").appendContent(this.$TahoeVideoView12,this.$TahoeVideoView6);c("DOM").appendContent(this.$TahoeVideoView7.getContent(),this.$TahoeVideoView10);var s=this.$TahoeVideoView7.getChannelID(),t=this.$TahoeVideoView7.getCaller();if(this.$TahoeVideoView7.getMediaController()){this.$TahoeVideoView24(this.$TahoeVideoView7.getID(),false,s,t);this.setUpEndScreen();this.setUpUFI()}else this.updateView(this.$TahoeVideoView7.getID(),s,t);this.$TahoeVideoView1=new(c("SubscriptionsHandler"))();this.$TahoeVideoView1.addSubscriptions(c("Arbiter").subscribe("layer_shown",this.$TahoeVideoView25.bind(this)),c("Arbiter").subscribe("UFIAddComment/focus",this.selectCommentTab.bind(this)))}o.prototype.$TahoeVideoView25=function(p,q){"use strict";if(q.type==="DialogX"||q.type==="PhotoSnowlift"){var r=this.$TahoeVideoView7.getMediaController(),s=r,t=this.$TahoeVideoView8;if(s.isState(c("VideoPlayerStates").FINISHED)&&t){var u=r.getRootNode();t.endCountdown(u);t.showEndScreen(u,false,{videoID:r.getMediaID(),chainDepth:Array.from(this.$TahoeVideoView16).length,chainingContextIdentifier:this.$TahoeVideoView5},{},function(){})}}};o.prototype.setUpUFI=function(){"use strict";var p=this.$TahoeVideoView7.getMediaController();if(p){this.$TahoeVideoView7.addEvent(p.addListener("commercialBreak/hideUFI",function(){return this.$TahoeVideoView26(true)}.bind(this)));this.$TahoeVideoView7.addEvent(p.addListener("commercialBreak/showUFI",function(){return this.$TahoeVideoView26(false)}.bind(this)))}};o.prototype.$TahoeVideoView26=function(p){"use strict";c("CSS").conditionClass(this.$TahoeVideoView6,"_17an",p);c("CSS").conditionClass(this.$TahoeVideoView14,"_3qt9",p);if(p)this.$TahoeVideoView27();else c("CommercialBreakUtil").removeContextCard(this.$TahoeVideoView19)};o.prototype.$TahoeVideoView27=function(){"use strict";var p=c("DOM").scry(this.$TahoeVideoView12,"._25x8");if(p.length!==0)return;this.$TahoeVideoView19=c("DOM").create("div",{className:"_25x8"});c("DOM").appendContent(this.$TahoeVideoView12,this.$TahoeVideoView19);var q=this.$TahoeVideoView7.getMediaController(),r=q;c("CommercialBreakUtil").renderContextCard(r,this.$TahoeVideoView19)};o.prototype.setUpEndScreen=function(){"use strict";var p=this.$TahoeVideoView7.getMediaController(),q=p;if(p.isLiveVideo()){this.$TahoeVideoView8=null;return}this.$TahoeVideoView8=new(c("TahoeVideoEndScreen"))(function(){var r=this.$TahoeVideoView8;r&&r.endCountdown(p.getRootNode());var s=c("DOMQuery").scry(p.getRootNode(),"._35sk")[0];if(s)c("CSS").show(s);q.play(c("VideoPlayerReason").USER)}.bind(this));this.$TahoeVideoView7.addEvent(q.addListener("playRequested",function(){if(this.$TahoeVideoView8)this.$TahoeVideoView8.endCountdown(p.getRootNode())}.bind(this)));this.$TahoeVideoView7.addEvent(p.addListener("stateChange",this.$TahoeVideoView28.bind(this)));this.$TahoeVideoView7.addEvent(p.addListener("toggleFullscreen",this.$TahoeVideoView28.bind(this)))};o.prototype.$TahoeVideoView28=function(){"use strict";var p=this.$TahoeVideoView7.getMediaController(),q=this.$TahoeVideoView8,r=p;if(r.isState(c("VideoPlayerStates").FINISHED)&&!r.isFullscreen()&&q){q.showEndScreen(p.getRootNode(),!!this.$TahoeVideoView3,{videoID:p.getMediaID(),chainDepth:Array.from(this.$TahoeVideoView16).length,chainingContextIdentifier:this.$TahoeVideoView5},this.$TahoeVideoView2||{},function(t){this.$TahoeVideoView7.setPlayReason(t?c("VideoPlayerReason").USER:c("VideoPlayerReason").AUTOPLAY);if(this.$TahoeVideoView3)this.$TahoeVideoView7.go(this.$TahoeVideoView3);q.endCountdown(p.getRootNode())}.bind(this));var s=c("DOMQuery").scry(p.getRootNode(),"._35sk")[0];if(s)c("CSS").hide(s)}};o.prototype.$TahoeVideoView29=function(){"use strict";c("CSS").addClass(this.$TahoeVideoView12,"_4f4w");c("DOM").empty(this.$TahoeVideoView14)};o.prototype.$TahoeVideoView30=function(){"use strict";c("CSS").removeClass(this.$TahoeVideoView12,"_4f4w");if(this.$TahoeVideoView15){var p=c("DOMQuery").find(this.$TahoeVideoView12,"._3dj6");p=c("CSS").removeClass(p,"_3dj6");var q=c("DOM").find(this.$TahoeVideoView10,"._3dj7");c("DOM").setContent(p,q);c("EventProfiler").informManualInteractionTimestamp(["Tahoe"],true,"click");this.$TahoeVideoView15=false;if(q.firstChild)this.$TahoeVideoView31(q.firstChild,function(){c("TimeSlice").guard(this.$TahoeVideoView32.bind(this),"Tahoe preload next video",{isContinuation:false})()}.bind(this))}};o.prototype.$TahoeVideoView23=function(p){"use strict";if(p.keyCode===c("Keys").ESC&&!p.cancelBubble&&!p.defaultPrevented&&!this.$TahoeVideoView7.getIsPermalink()){this.$TahoeVideoView7.logEvent(c("TahoeLoggerEvent").EXIT_WITH_ESC);this.$TahoeVideoView7.onExit()}};o.prototype.$TahoeVideoView33=function(p,q,r,s){"use strict";var t=this.$TahoeVideoView34(p,r,s);t&&t.send();var u=c("DOMQuery").scry(this.$TahoeVideoView7.getContent(),"._1c_u"),v=c("DOMQuery").scry(this.$TahoeVideoView12,"._1rgu");if(u[0])c("DOM").replace(u[0],c("DOMQuery").scry(q,"._5-yb")[0]);c("DOM").setContent(this.$TahoeVideoView14,c("DOMQuery").find(q,"._1w6j"));if(v[0])c("DOM").replace(v[0],c("DOMQuery").find(q,"._1rgu"));else c("DOM").appendContent(this.$TahoeVideoView12,c("DOMQuery").find(q,"._1rgu"));o.registerPendingController(this.$TahoeVideoView11);this.$TahoeVideoView30()};o.prototype.$TahoeVideoView24=function(p,q,r,s,t){"use strict";this.$TahoeVideoView3=null;this.$TahoeVideoView2=null;var u=c("XTahoeAsyncController").getURIBuilder().setFBID("id",p).setBool("chain",q).setBool("isvideo",true).setString("originalmediaid",this.$TahoeVideoView9).setEnum("playerorigin",this.$TahoeVideoView17).setString("playersuborigin",this.$TahoeVideoView18).setString("sponsoreddata",t).setString("externallogid",this.$TahoeVideoView7.getExternalLogID()).setEnum("reactionvideochanneltype",this.$TahoeVideoView7.getReactionVideoChannelType()).setBool("ispermalink",this.$TahoeVideoView7.getIsPermalink()),v=new(c("AsyncRequest"))(u.getURI()).setHandler(function(x){var y=x.getPayload();if(q){var z=c("DOMQuery").scry(this.$TahoeVideoView7.getContent(),"._1c_u"),A=c("DOMQuery").scry(this.$TahoeVideoView12,"._1rgu");if(z[0])c("DOM").replace(z[0],c("HTML").replaceJSONWrapper(y.video.markup));c("DOM").setContent(this.$TahoeVideoView14,c("HTML").replaceJSONWrapper(y.ufiTray.markup));if(A[0])c("DOM").replace(A[0],c("HTML").replaceJSONWrapper(y.sidePane.markup));else c("DOM").appendContent(this.$TahoeVideoView12,c("HTML").replaceJSONWrapper(y.sidePane.markup));var B=typeof y.autoplayAllowed==="boolean"?y.autoplayAllowed:true;this.$TahoeVideoView7.setAutoplayAllowed(B)}else{c("DOM").appendContent(this.$TahoeVideoView14,c("HTML").replaceJSONWrapper(y.ufiTray.markup));c("DOM").appendContent(this.$TahoeVideoView12,c("HTML").replaceJSONWrapper(y.sidePane.markup))}this.$TahoeVideoView30();c("EventProfiler").informManualInteractionTimestamp(["Tahoe"],true,"click")}.bind(this)),w=this.$TahoeVideoView34(p,r,s);v.send();w&&w.send();this.$TahoeVideoView29()};o.prototype.$TahoeVideoView31=function(p,q){"use strict";var r=c("DOMQuery").scry(p,"a")[0],s=c("DOMQuery").scry(p,"._fh9")[0];if(r){this.$TahoeVideoView3=r.getAttribute("href");this.$TahoeVideoView2={videoID:p.getAttribute("data-media-id")||"",title:p.getAttribute("data-full-title")||"",imgUrl:p.getAttribute("data-up-next-image")||"",viewCount:p.getAttribute("data-view-count")||"",aspectRatio:parseFloat(p.getAttribute("data-aspect-ratio")),profileCard:s?s.cloneNode(true):undefined,profileID:p.getAttribute("data-profile-id")||""};q&&q()}};o.prototype.$TahoeVideoView34=function(p,q,r){"use strict";var s=c("ge")("video-up-next-"+p);if(s){var t=s.parentNode,u=Array.from(t.children);u.some(function(x){if(x.id!=="video-up-next-"+p){c("DOM").remove(x);return false}else return true});c("DOM").remove(t.firstChild);c("DOM").appendContent(this.$TahoeVideoView10,t);if(t.children.length>=10){this.$TahoeVideoView15=true;return null}}else if(!s&&p!==this.$TahoeVideoView9){this.$TahoeVideoView7.resetChannelData();this.$TahoeVideoView4=null;q=null;r=null}var v=c("XTahoeUpNextAsyncController").getURIBuilder().setFBID("media_id",p).setFBIDSet("viewed_videos",Array.from(this.$TahoeVideoView16)).setString("channel_id",q).setEnum("caller",r).setString("cursor",this.$TahoeVideoView4),w=new(c("AsyncRequest"))(v.getURI()).setHandler(function(x){var y,z=this,A=x.getPayload();this.$TahoeVideoView4=A.chainingCursor;if(A.viewportTrackingConfig)this.$TahoeVideoView20=A.viewportTrackingConfig;var B=c("HTML").replaceJSONWrapper(A.upNextUnit.markup);this.$TahoeVideoView15=true;var C=c("DOMQuery").scry(this.$TahoeVideoView12,"._3dj6"),D=c("DOMQuery").scry(this.$TahoeVideoView10,"._3dj7");if(D[0])(function(){c("DOM").appendContent(z.$TahoeVideoView10,B);D=c("DOMQuery").scry(z.$TahoeVideoView10,"._3dj7");var G=Array.from(D[1].children);G.forEach(function(I){c("DOM").appendContent(D[0],I)});c("DOM").remove(D[1]);B=D[0];var H={};Array.from(B.children).forEach(function(I){if(H[I.id])c("DOM").remove(I);else H[I.id]=true});c("DOM").remove(D[0])})();var E=null;if(C[0]){C=c("CSS").removeClass(C[0],"_3dj6");c("DOM").setContent(C,B);this.$TahoeVideoView15=false;E=C}else{c("DOM").appendContent(this.$TahoeVideoView10,B);E=this.$TahoeVideoView10}if(this.$TahoeVideoView20){var F=this.$TahoeVideoView20;this.$TahoeVideoView21=c("TahoeUpNextViewportTracking").setup(F,E,m);this.$TahoeVideoView22=c("TahoeUpNextViewportTracking").setup(F,E,n)}var u=c("DOMQuery").scry(this.$TahoeVideoView12,"._bne");c("EventProfiler").informManualInteractionTimestamp(["Tahoe"],true,"click");if(u[0])this.$TahoeVideoView31(u[0],function(){c("TimeSlice").guard(this.$TahoeVideoView32.bind(this),"Tahoe preload next video",{isContinuation:false})()}.bind(this))}.bind(this));return w};o.prototype.$TahoeVideoView32=function(){"use strict";var p=new(c("URI"))(this.$TahoeVideoView3),q=c("VideoPermalinkURI").parse(p).video_id;if(!q)return;var r=p.getQueryData().sp,s=c("XTahoeAsyncController").getURIBuilder().setFBID("id",q).setBool("chain",true).setBool("isvideo",true).setString("originalmediaid",this.$TahoeVideoView9).setBool("preload",true).setEnum("playerorigin",this.$TahoeVideoView17).setString("playersuborigin",this.$TahoeVideoView18).setString("sponsoreddata",r).setEnum("reactionvideochanneltype",this.$TahoeVideoView7.getReactionVideoChannelType()).setString("externallogid",this.$TahoeVideoView7.getExternalLogID()),t=new(c("AsyncRequest"))(s.getURI()).setHandler(function(u){var v=u.getPayload(),w=c("DOM").create("div",{id:"preload-"+q,"class":l});c("DOM").appendContent(w,c("HTML").replaceJSONWrapper(v.video.markup));c("DOM").appendContent(w,c("HTML").replaceJSONWrapper(v.ufiTray.markup));c("DOM").appendContent(w,c("HTML").replaceJSONWrapper(v.sidePane.markup));c("DOM").appendContent(this.$TahoeVideoView10,w);var x=typeof v.autoplayAllowed==="boolean"?v.autoplayAllowed:true;this.$TahoeVideoView7.setAutoplayAllowed(x)}.bind(this));t.send()};o.prototype.selectAddComment=function(){"use strict";var p=c("DOMQuery").scry(this.$TahoeVideoView12,".UFIAddCommentInput");p[0]&&p[0].click();this.selectCommentTab()};o.prototype.selectCommentTab=function(){"use strict";var p=c("DOMQuery").scry(this.$TahoeVideoView12,"._1rgu")[0];c("CSS").addClass(p,"_601h");c("CSS").removeClass(p,"_601i")};o.prototype.selectUpNextTab=function(){"use strict";var p=c("DOMQuery").scry(this.$TahoeVideoView12,"._1rgu")[0];if(p){c("CSS").addClass(p,"_601i");c("CSS").removeClass(p,"_601h")}};o.prototype.updateView=function(p,q,r){var s=arguments.length<=3||arguments[3]===undefined?null:arguments[3];"use strict";this.$TahoeVideoView16.add(p);var t=c("DOMQuery").scry(this.$TahoeVideoView10,"#preload-"+p);if(t[0]&&this.$TahoeVideoView11){this.$TahoeVideoView33(p,t[0],q,r);this.$TahoeVideoView35()}else{this.$TahoeVideoView35();this.$TahoeVideoView21&&this.$TahoeVideoView21.cleanup();this.$TahoeVideoView22&&this.$TahoeVideoView22.cleanup();this.$TahoeVideoView24(p,true,q,r,s)}};o.prototype.$TahoeVideoView35=function(){"use strict";this.$TahoeVideoView11=null;var p=c("DOMQuery").scry(this.$TahoeVideoView10,"."+l);Array.from(p).forEach(function(q){c("DOM").remove(q)})};o.prototype.onExit=function(){"use strict";this.$TahoeVideoView8&&this.$TahoeVideoView8.endCountdown(this.$TahoeVideoView7.getMediaController().getRootNode());this.$TahoeVideoView1.release()};o.registerCommentLink=function(p){"use strict";k.registerCommentLink.call(this,p)};o.registerPendingController=function(p){"use strict";var q=c("Tahoe").get();if(q&&p)q.updateMedia(p)};o.registerPreloadController=function(p){"use strict";var q=c("Tahoe").get();if(q)q.getView().$TahoeVideoView11=p};o.registerSidepaneTabbar=function(p){var q;"use strict";var r=c("Tahoe").get();if(r!=null)(function(){var s=r.getView();if(s instanceof o)p.subscribe(c("TabBar").TAB_CLICK,function(t,u){switch(u){case"up-next":s.selectUpNextTab();break;case"comments":s.selectCommentTab()}})})()};o.loadView=function(p,q,r){"use strict";return new o(p,q,r)};f.exports=o}),null);