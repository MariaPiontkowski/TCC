if (self.CavalryLogger) { CavalryLogger.start_js(["vCkR2"]); }

__d("AdsSpeedTrap",["AdsProfilerEntities","AdsSpeedAlarm","Map","Set","nullthrows"],(function a(b,c,d,e,f,g){"use strict";var h,i,j=c("AdsProfilerEntities").AdsProfilerReducer,k=c("AdsProfilerEntities").AdsProfilerProducer;function l(){this.$ProducerCallbackIndex1=new(c("Map"))()}l.prototype.add=function(n,o,p){var q=this.$ProducerCallbackIndex1.get(n)||new(c("Map"))(),r=q.get(o)||[];r.push(p);q.set(o,r);this.$ProducerCallbackIndex1.set(n,q)};l.prototype.onProducedEntry=function(n,o,p){if(!this.$ProducerCallbackIndex1.has(n))return;var q=c("nullthrows")(this.$ProducerCallbackIndex1.get(n));if(!q.has(o))return;var r=c("nullthrows")(q.get(o));r.forEach(function(s){return s(p)})};h=babelHelpers.inherits(m,j);i=h&&h.prototype;function m(n){i.constructor.call(this,"SPEED_TRAP");this.$AdsSpeedTrap1=new(c("Set"))();this.$AdsSpeedTrap2=[];this.$AdsSpeedTrap3=new l();this.$AdsSpeedTrap2=n}m.prototype.$AdsSpeedTrap4=function(n){this.link(n,function(o,p){return this.$AdsSpeedTrap1.forEach(function(q){return this.$AdsSpeedTrap3.onProducedEntry(q,n,p)}.bind(this))}.bind(this))};m.prototype.$AdsSpeedTrap5=function(n){n.register("activate",function(){return this.$AdsSpeedTrap1.add(n)}.bind(this));n.register("deactivate",function(){return this.$AdsSpeedTrap1["delete"](n)}.bind(this))};m.prototype.__sample=function(){return this.$AdsSpeedTrap1.size!==0};m.prototype.__init=function(){var n=new(c("Set"))(),o=new(c("Set"))();this.$AdsSpeedTrap2.forEach(function(p){var q=p.getInterval();o.add(q);var r=p.getProducer();n.add(r);this.$AdsSpeedTrap3.add(q,r,p.getOnProducedEntry())}.bind(this));n.forEach(function(p){return this.$AdsSpeedTrap4(p)}.bind(this));o.forEach(function(p){return this.$AdsSpeedTrap5(p)}.bind(this))};f.exports=m}),null);