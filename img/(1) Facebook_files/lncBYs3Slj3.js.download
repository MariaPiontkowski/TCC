if (self.CavalryLogger) { CavalryLogger.start_js(["uB4zo"]); }

__d("AdsPixelDateStore",["invariant","AdsCMActionTypes","AdsCMURLParams","AdsDataActionTypes","AdsDataAtom","AdsPixelDateChoices","FluxStore","adsBaseStoreMixin_DEPRECATED"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k="LAST_7_DAYS";i=babelHelpers.inherits(l,c("FluxStore"));j=i&&i.prototype;function l(){j.constructor.call(this,c("AdsDataAtom"));c("adsBaseStoreMixin_DEPRECATED")(this);this.$AdsPixelDateStoreClass1={choice:k}}l.prototype.getStoreName=function(){return"AdsPixelDateStore"};l.prototype.__onDispatch=function(n){var o=n.action,p=this.$AdsPixelDateStoreClass2(o);if(this.$AdsPixelDateStoreClass1.choice!=p&&p in c("AdsPixelDateChoices")){this.$AdsPixelDateStoreClass1.choice=p;this.__emitChange()}};l.prototype.$AdsPixelDateStoreClass2=function(n){switch(n.actionType){case c("AdsCMActionTypes").INIT_FROM_URL:var o=n.data.uri.getQueryData();return o[c("AdsCMURLParams").PIXEL_DATE_CHOICE];case c("AdsDataActionTypes").pixelViewUpdateDatePickerSetting:return n.data.choice}Object.assign(this.$AdsPixelDateStoreClass1,n.data)};l.prototype.toURLParams=function(){if(this.$AdsPixelDateStoreClass1.choice===k)return{};var n={};n[c("AdsCMURLParams").PIXEL_DATE_CHOICE]=this.$AdsPixelDateStoreClass1.choice;return n};l.prototype.getCurrentChoice=function(){this.$AdsPixelDateStoreClass1.choice in c("AdsPixelDateChoices")||h(0);return this.$AdsPixelDateStoreClass1.choice};var m=new l();f.exports=m}),null);
__d("AdsPixelTableColumnDataKey",[],(function a(b,c,d,e,f,g){"use strict";var h={NAME:"name",DOMAIN:"domains",TRAFFIC:"traffic",STATUS:"last_fired_time",USER:"matches",SHARE:"owner_business",VALUE:"value"};f.exports=h}),null);
__d("adsDataSourceTableSort",["AdsPixelDateStore","AdsPixelTableColumnDataKey"],(function a(b,c,d,e,f,g){"use strict";function h(j){this.$AdsDataSourceTableSortClass1=Object.keys(j).map(function(k){return j[k]})}h.prototype.sort=function(j,k){this.$AdsDataSourceTableSortClass1.sort(function(l,m){var n=l[j]||"",o=m[j]||"";return this.$AdsDataSourceTableSortClass2(n,o,j)*(k==="ASC"?1:-1)}.bind(this));return this.$AdsDataSourceTableSortClass1};h.prototype.$AdsDataSourceTableSortClass2=function(j,k,l){var m=j,n=k;switch(l){case c("AdsPixelTableColumnDataKey").TRAFFIC:case c("AdsPixelTableColumnDataKey").USER:var o=c("AdsPixelDateStore").getCurrentChoice();m=m[o]||0;n=n[o]||0;break;case c("AdsPixelTableColumnDataKey").VALUE:m=m.toLowerCase();n=n.toLowerCase();return m.localeCompare(n)}if(m>n)return 1;else if(m<n)return-1;else return 0};var i=function i(j,k,l){return new h(j).sort(k,l)};f.exports=i}),null);
__d("AdsPixelDetailStore",["invariant","AdsAccountStoreWrapper_DEPRECATED","AdsDataActionTypes","AdsDataAtom","AdsPixelDataManager","AdsPixelDateChoices","AdsPixelDevices","AdsPixelServerActionTypes","AdsPixelStats","AdsPixelStatsTypes","DateTime","FluxStore","immutable","Timezone","adsBaseStoreMixin_DEPRECATED","adsDataSourceTableSort","dotAccess"],(function a(b,c,d,e,f,g,h){"use strict";var i,j,k="count",l="DESC",m=24*60*60*1e3,n="value",o=7*m;i=babelHelpers.inherits(p,c("FluxStore"));j=i&&i.prototype;function p(){j.constructor.call(this,c("AdsDataAtom"));c("adsBaseStoreMixin_DEPRECATED")(this);this.$AdsPixelDetailStoreClass1={traffic:{},domain:{},url:{},event:{},device:{}};this.$AdsPixelDetailStoreClass2={domain:{},url:{},device:{}};this.$AdsPixelDetailStoreClass3={};this.$AdsPixelDetailStoreClass4={};this.$AdsPixelDetailStoreClass5={};this.$AdsPixelDetailStoreClass6={}}p.prototype.getStoreName=function(){return"AdsPixelDetailStore"};p.prototype.__onDispatch=function(r){var s=r.action;switch(s.actionType){case c("AdsDataActionTypes").pixelServerReceivePixelAudience:this.$AdsPixelDetailStoreClass7(s.feedback.pixelID,s.feedback.audiences,s.feedback.hasLoadAll);this.__emitChange();break;case c("AdsDataActionTypes").pixelServerReceivePixelStats:if(s.feedback.isUnixTime)break;this.$AdsPixelDetailStoreClass8(s.statsType,s.feedback.pixelID,s.feedback.stats);this.__emitChange();break;case c("AdsDataActionTypes").pixelServerReceivePixelStatsByEvent:if(s.isUnixTime)break;this.$AdsPixelDetailStoreClass9(s.statsType,s.feedback.pixelID,s.event,s.feedback.stats);this.__emitChange();break;case c("AdsDataActionTypes").pixelServerReceivePixelParameters:this.$AdsPixelDetailStoreClass10(s.feedback.event,s.feedback.pixelID,s.feedback.stats);this.__emitChange();break;case c("AdsPixelServerActionTypes").RECEIVE_PIXEL_ACCOUNTS:this.$AdsPixelDetailStoreClass11(s.feedback.pixelID,s.feedback.accounts);this.__emitChange();break;case c("AdsDataActionTypes").pixelServerReceivePixelUniqueUserStats:this.$AdsPixelDetailStoreClass12(s.feedback.pixelID,s.feedback.uniqueUserData);this.__emitChange();break}};p.prototype.hasLoadAllPixelAudiences=function(r){return!!c("dotAccess")(this.$AdsPixelDetailStoreClass13(r),"hasLoadAllAudiences")};p.prototype.$AdsPixelDetailStoreClass10=function(event,r,s){var t=r.concat("_",event);this.$AdsPixelDetailStoreClass6[t]=s};p.prototype.getPixelAudiences=function(r){var s=this.$AdsPixelDetailStoreClass13(r);return c("dotAccess")(s,"audiences")||[]};p.prototype.$AdsPixelDetailStoreClass13=function(r){if(!(r in this.$AdsPixelDetailStoreClass3)){this.$AdsPixelDetailStoreClass3[r]=undefined;c("AdsPixelDataManager").loadAudiences(r)}return c("dotAccess")(this.$AdsPixelDetailStoreClass3,r)||{}};p.prototype.getPixelSharedAccounts=function(r,s){if(!(r in this.$AdsPixelDetailStoreClass4)&&s){this.$AdsPixelDetailStoreClass4[r]=undefined;c("AdsPixelDataManager").loadPixelAccounts(r,s)}return c("dotAccess")(this.$AdsPixelDetailStoreClass4,r)||[]};p.prototype.getFireChartData=function(r,s){var t=this.getPixelStats(c("AdsPixelStatsTypes").TRAFFIC,r);return t?t.getFireChartData(s):{}};p.prototype.getPaddedFireChartData=function(r,s,t){var u=[],v={},w=this.getFireChartData(r);w=w.pixel_fire||[];for(var x=0;x<w.length;x++)v[w[x].datetime]=w[x].value;for(var y=s;y<=t;y+=m)u.push({datetime:y/1e3,value:v[y]||0});return u};p.prototype.getPaddedFireChartDataByEvent=function(r,event,s,t){var u,v=[],w=this.getPixelStats(c("AdsPixelStatsTypes").EVENT,r,false);w=w?w.getData().map(function(z){var A=z.timestamp,B=z.data;return[c("DateTime").fromISOString(A.substring(0,10),c("Timezone").UTC).getUnixTimestamp(),B]}).reduce(function(z,A){var B=A[0],C=A[1];return C.reduce(function(z,D){var E=D.value,F=D.count;return z.set(E,z.get(E,c("immutable").Map()).set(B,z.get(E,c("immutable").Map()).get(B,0)+F))},z)},c("immutable").Map()).get(event,c("immutable").Map()):c("immutable").Map();var x=function x(y){var z=y===t,A=w.find(function(B,C){return C===y});v.push({count:A||0,date:y/1e3,$meta:{className:z?"dashed":""}})};for(var y=s;y<=t;y+=m)x(y);return v};p.prototype.getUserChartData=function(r){if(!(r in this.$AdsPixelDetailStoreClass5)){this.$AdsPixelDetailStoreClass5[r]={};c("AdsPixelDataManager").loadUniqueUser(r)}return this.$AdsPixelDetailStoreClass5[r]};p.prototype.getTrafficMaxTimestamp=function(r,s){var t=this.getPixelStats(c("AdsPixelStatsTypes").TRAFFIC,r);return t?t.getMaxTimestamp(s):Date.now()};p.prototype.getSortedStatsListForDateChoice=function(r,s,t,u,v){var w=this.getPixelStats(s,r);return this.$AdsPixelDetailStoreClass14(w,t,u,v)};p.prototype.getSortedStatsListForDateChoiceAndEventAndBreakdown=function(r,s,event,t,u,v){var w=c("AdsPixelDateChoices")[t].startTime.getTime(),x=c("AdsPixelDateChoices")[t].startTime.getTime()+o,y=this.getPixelStatsByEvent(s,r,event,false),z=y?y.getAggregationForAllDateChoices()[t]:null,A=y?y.getFireChartData():null,B=u===n||u===k?u:k,C=z&&A?Object.keys(z).map(function(D){var E,F=A[D],G=[],H=function H(I){var J=I===x,K=F.find(function(L){return L.datetime===I});G.push({count:K?K.value:0,date:I/1e3,$meta:{className:J?"dashed":""}})};for(var I=w;I<=x;I+=m)H(I);return{count:z[D],value:s===c("AdsPixelStatsTypes").DEVICE&&c("AdsPixelDevices")[D]!=null?c("AdsPixelDevices")[D].userFacingValue.toString():D,activity:G}}).sort(function(D,E){return B===n?D[n].localeCompare(E[n]):D[B]-E[B]}):null;return C&&v===l?C.reverse():C};p.prototype.getPixelStats=function(r,s){var t=arguments.length<=2||arguments[2]===undefined?true:arguments[2];this.$AdsPixelDetailStoreClass15(r);if(!(s in this.$AdsPixelDetailStoreClass1[r])){this.$AdsPixelDetailStoreClass1[r][s]=undefined;c("AdsPixelDataManager").loadStats(r,s,t)}return this.$AdsPixelDetailStoreClass1[r][s]};p.prototype.getPixelStatsByEvent=function(r,s,event){var t=arguments.length<=3||arguments[3]===undefined?true:arguments[3];this.$AdsPixelDetailStoreClass16(r);if(!(s in this.$AdsPixelDetailStoreClass2[r]))this.$AdsPixelDetailStoreClass2[r][s]={};if(!(event in this.$AdsPixelDetailStoreClass2[r][s])){this.$AdsPixelDetailStoreClass2[r][s][event]=undefined;c("AdsPixelDataManager").loadStatsByEvent(r,s,event,t)}return this.$AdsPixelDetailStoreClass2[r][s][event]};p.prototype.isPixelHighQuality=function(r){var s=arguments.length<=1||arguments[1]===undefined?true:arguments[1],t=c("AdsPixelStatsTypes").EVENT;this.$AdsPixelDetailStoreClass15(t);if(!(r in this.$AdsPixelDetailStoreClass1[t])){this.$AdsPixelDetailStoreClass1[t][r]=undefined;c("AdsPixelDataManager").loadStats(t,r,s)}var u=this.$AdsPixelDetailStoreClass1[t][r];return u!==undefined&&u.isPixelHighQuality()};p.prototype.arePixelAudiencesLoaded=function(r){return r in this.$AdsPixelDetailStoreClass3&&this.$AdsPixelDetailStoreClass3[r]!==undefined};p.prototype.isPixelStatsLoaded=function(r,s){this.$AdsPixelDetailStoreClass15(r);return s in this.$AdsPixelDetailStoreClass1[r]&&this.$AdsPixelDetailStoreClass1[r][s]!==undefined};p.prototype.isPixelStatsByEventLoaded=function(r,s,event){this.$AdsPixelDetailStoreClass15(r);return s in this.$AdsPixelDetailStoreClass2[r]&&event in this.$AdsPixelDetailStoreClass2[r][s]&&this.$AdsPixelDetailStoreClass2[r][s][event]!==undefined};p.prototype.$AdsPixelDetailStoreClass14=function(r,s,t,u){if(!r)return[];var v=r.getTableDataForAllDateChoices();return c("adsDataSourceTableSort")(v[s],t,u)};p.prototype.$AdsPixelDetailStoreClass7=function(r,s,t){this.$AdsPixelDetailStoreClass3[r]={audiences:s,hasLoadAllAudiences:t}};p.prototype.$AdsPixelDetailStoreClass11=function(r,s){var t=[];s.forEach(function(u){if(u.account_id!==c("AdsAccountStoreWrapper_DEPRECATED").getAccountID())t.push(u)});this.$AdsPixelDetailStoreClass4[r]=t};p.prototype.$AdsPixelDetailStoreClass8=function(r,s,t){if(!(r in this.$AdsPixelDetailStoreClass1))return;this.$AdsPixelDetailStoreClass1[r][s]=new(c("AdsPixelStats"))(t,r)};p.prototype.$AdsPixelDetailStoreClass9=function(r,s,event,t){this.$AdsPixelDetailStoreClass2[r][s][event]=new(c("AdsPixelStats"))(t,r)};p.prototype.$AdsPixelDetailStoreClass12=function(r,s){Object.keys(s).forEach(function(t){var u=new Date(t*1e3);u=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate()));Object.keys(s[t]).forEach(function(v){this.$AdsPixelDetailStoreClass5[r][v]=this.$AdsPixelDetailStoreClass5[r][v]||[];this.$AdsPixelDetailStoreClass5[r][v].push({datetime:u.getTime(),value:s[t][v]})}.bind(this))}.bind(this))};p.prototype.$AdsPixelDetailStoreClass15=function(r){r in this.$AdsPixelDetailStoreClass1||h(0)};p.prototype.$AdsPixelDetailStoreClass16=function(r){r in this.$AdsPixelDetailStoreClass2||h(0)};var q=new p();f.exports=q}),null);
__d("AdsPixelPickerStore",["AdsDataActionTypes","AdsDataAtom","AdsPixelDialogTypes","FluxStore","adsBaseStoreMixin_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FluxStore"));i=h&&h.prototype;function j(){i.constructor.call(this,c("AdsDataAtom"));c("adsBaseStoreMixin_DEPRECATED")(this);this.$AdsPixelPickerStoreClass2=false}j.prototype.getStoreName=function(){return"AdsPixelPickerStore"};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c("AdsDataActionTypes").pixelViewDialogTypeChange:if(m.data.dialogType===c("AdsPixelDialogTypes").NO_DIALOG){this.$AdsPixelPickerStoreClass2=false;this.__emitChange()}break;case c("AdsDataActionTypes").pixelViewOutcomeBasePixelChange:if(m.data.pixelID&&m.data.pixelID!==this.$AdsPixelPickerStoreClass1){this.$AdsPixelPickerStoreClass1=m.data.pixelID;this.__emitChange()}break;case c("AdsDataActionTypes").pixelViewDisablePixelPicker:this.$AdsPixelPickerStoreClass2=true;this.__emitChange();break}};j.prototype.getCurrentPixelID=function(){return this.$AdsPixelPickerStoreClass1};j.prototype.setCurrentPixelID=function(l){this.$AdsPixelPickerStoreClass1=l};j.prototype.isPickerDisabled=function(){return this.$AdsPixelPickerStoreClass2};var k=new j();f.exports=k}),null);
__d("AdsPixelStoreWrapper",["AdsAccountStoreWrapper_DEPRECATED","AdsDataSourceTables","AdsPixelDetailStore","AdsPixelPickerStore","AdsPixelStatsTypes","AdsPixelStore","AdsPixelTableColumnDataKey","AdsPixelTableSettingStore","BrandPixelStore.brands","adsDataSourceTableSort","getByPath"],(function a(b,c,d,e,f,g){"use strict";var h={getPixelSharedAccounts:function i(j){var k=c("getByPath")(c("AdsPixelStore").getPixelInfo(j),["owner_business","id"]);return c("AdsPixelDetailStore").getPixelSharedAccounts(j,k)},getSortedPixels:function i(){var j=c("AdsPixelTableSettingStore").getSortDataKey(c("AdsDataSourceTables").PIXEL),k=c("AdsPixelTableSettingStore").getSortStatus(c("AdsDataSourceTables").PIXEL),l=this._getPixels();return c("adsDataSourceTableSort")(l,j,k)},getTotalMatchForDateChoice:function i(j,k){var l=(c("AdsPixelTableColumnDataKey").USER+"."+k).split(".");return c("getByPath")(this._getPixel(j),l)},getPixelCode:function i(j){return c("getByPath")(this._getPixel(j),["code"])},getCurrentPixelID:function i(){return c("AdsPixelPickerStore").getCurrentPixelID()||this._getPixelIDs()[0]},getTotalTrafficForDateChoice:function i(j,k){var l=(c("AdsPixelTableColumnDataKey").TRAFFIC+"."+k).split(".");return c("getByPath")(this._getPixel(j),l)},getPixelName:function i(j){return c("getByPath")(this._getPixel(j),["name"])},getIsTableDataLoaded:function i(){return c("AdsPixelStore").isListLoaded()&&Object.keys(this._getPixels()).filter(function(j){return!this.getPixelStatsLoaded(j)}.bind(this)).length===0},getPixelStatsLoaded:function i(j){return c("AdsPixelDetailStore").isPixelStatsLoaded(c("AdsPixelStatsTypes").DOMAIN,j)&&c("AdsPixelDetailStore").isPixelStatsLoaded(c("AdsPixelStatsTypes").TRAFFIC,j)},_getPixelIDs:function i(){return c("AdsAccountStoreWrapper_DEPRECATED").getAccountID()?c("AdsPixelStore").getPixelIDs():Object.keys(c("BrandPixelStore.brands").getBrandPixelsByID())},_getPixels:function i(){var j=this._getPixelIDs(),k={};j.forEach(function(l){k[l]=this._getPixel(l)}.bind(this));return k},_getPixel:function i(j){var k=c("AdsPixelStore").getPixelInfo(j),l=c("AdsPixelDetailStore").getPixelStats(c("AdsPixelStatsTypes").DOMAIN,j);k[c("AdsPixelTableColumnDataKey").DOMAIN]=l&&l.getTopKeys();var m=c("AdsPixelDetailStore").getPixelStats(c("AdsPixelStatsTypes").TRAFFIC,j);if(!m)return k;var n={},o={},p=m.getAggregationForAllDateChoices();Object.keys(p).forEach(function(q){n[q]=p[q].pixel_fire;o[q]=p[q].user_match});k[c("AdsPixelTableColumnDataKey").TRAFFIC]=n;k[c("AdsPixelTableColumnDataKey").USER]=o;return k}};f.exports=h}),null);
__d("AdsPixelComponentEnvironments",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=Object.freeze(c("keyMirror")({tracking:null,optimization:null,pixelInsights:null}));f.exports=h}),null);