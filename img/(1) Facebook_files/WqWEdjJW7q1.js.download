if (self.CavalryLogger) { CavalryLogger.start_js(["9ckOE"]); }

__d("VideoChannelCallerToPlayerOriginMap",[],(function a(b,c,d,e,f,g){f.exports={internal:"unknown",www_feed_pivots:"newsfeed",www_feed_snowlift:"unknown",misc_photo_set:"unknown",mobile:"unknown",search:"unknown",www_feed_rhc:"newsfeed",www_notification:"notifications",www_permalink:"permalink",www_permalink_rhc:"permalink",www_permalink_rhc_from_notification:"notifications",my_video_channels_ent_query:"unknown",top_followed_video_channels_ent_query:"unknown",badge:"unknown",pagination:"unknown",subtitle:"unknown",channel_view_from_unknown:"unknown",channel_view_from_newsfeed:"newsfeed",channel_view_from_explorefeed:"unknown",live_indexer_from_explorefeed:"unknown",live_indexer_from_newsfeed:"unknown",nn_indexer_from_newsfeed:"unknown",channel_view_from_search:"unknown",channel_view_from_newsfeed_pivot:"unknown",newsfeed_pivot_inline:"unknown",mobile_newsfeed_pivot_inline:"unknown",channel_view_from_page_call_to_action:"unknown",channel_view_from_page_timeline:"page_timeline",channel_view_from_page_timeline_featured:"unknown",channel_view_from_page_video_tab:"pages_video_tab",channel_view_from_user_timeline:"user_timeline",channel_view_from_user_video_tab:"unknown",channel_view_from_group_timeline:"group",channel_view_from_group_video_tab:"unknown",channel_view_from_saved_story:"unknown",saved_story_inline:"unknown",channel_view_from_shared_with_you_story:"unknown",shared_with_you_story_inline:"unknown",channel_view_from_latest_from_your_channels_story:"unknown",latest_from_your_channels_story_inline:"unknown",channel_view_from_channel_pivot:"unknown",channel_pivot_inine:"unknown",channel_view_from_recommended_channel_story:"unknown",recommended_channel_story_inline:"unknown",channel_view_from_video_home:"video_home",video_home_inline:"unknown",video_home_channel_see_all:"unknown",social_player_up_next:"unknown",channel_view_from_casting:"unknown",connected_tv:"unknown",connected_tv_discovery:"unknown",connected_tv_player:"unknown",connected_tv_profile:"unknown",video_home_feed:"unknown",video_home_hero:"unknown",feed_survey_swipe:"unknown",feed_pivots_inline:"newsfeed",channel_view_from_feed_pivots:"newsfeed",video_sets_cache_refresh:"unknown",video_sets_cache_check:"unknown",dummy_story_recommended_videos:"unknown",dummy_story_friends_enjoying:"unknown",live_event_video_set:"unknown",live_videos_set:"unknown",single_creator_video_set:"unknown",frt_tool:"unknown",dummy_story_friends_enjoying_now:"unknown",dummy_story_dummy_action:"unknown",oculus_video:"unknown",trending_demographics_live:"unknown",live_map:"live_map",unconnected_live_video:"unknown",profile_video_gallery:"unknown",channel_view_from_playlist:"unknown",oculus_social_hub:"unknown",akira:"unknown",is_live_video_chaining:"unknown",tahoe:"unknown",shows_cover_trailer:"page_timeline",shows_episodes_tab:"page_timeline",shows_playlists_tab:"page_timeline",shows_home_tab:"page_timeline",shows_more_videos_tab:"page_timeline",wns:"unknown",explore_feed_deep_dive:"unknown"}}),null);
__d("TahoeActionTypes",["keyMirror"],(function a(b,c,d,e,f,g){"use strict";var h=c("keyMirror")({SET_MC:null});f.exports=h}),null);
__d("TahoeDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("ExplicitRegistrationReactDispatcher"));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this)}f.exports=new j({strict:true})}),null);
__d("TahoeActions",["TahoeDispatcher","TahoeActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h={setMediaController:function i(j){var k={type:c("TahoeActionTypes").SET_MC,mediaController:j};c("TahoeDispatcher").dispatch(k)}};f.exports=h}),null);
__d("TahoeMediaType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({VIDEO:"video",PHOTO:"photo"})}),null);
__d("TahoeSidePanePhotosPlaceholder.react",["cx","React"],(function a(b,c,d,e,f,g,h){function i(){return c("React").createElement("div",{className:"_wxj _1-z7"},c("React").createElement("div",{className:"_1-z8"}),c("React").createElement("div",{className:"_1-za"}),c("React").createElement("div",{className:"_1-zb"}),c("React").createElement("div",{className:"_1-zf"}),c("React").createElement("div",{className:"_1-zg"}),c("React").createElement("div",{className:"_1-zh"}),c("React").createElement("div",{className:"_62g_"}),c("React").createElement("div",{className:"_62h0"}),c("React").createElement("div",{className:"_62h1"}))}f.exports=i}),null);
__d("XTahoeMorePhotosAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/video/tahoe/morephotos/async/{current_photo_id}/",{related_results:{type:"FBIDVector",required:true},current_photo_id:{type:"FBID",required:true}})}),null);
__d("TahoePhotoView",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","DOMQuery","Event","EventProfiler","HTML","Keys","React","ReactDOM","MediaController","PhotoPermalinkURI","SubscriptionsHandler","TabBar","Tahoe","TahoeSidePanePhotosPlaceholder.react","TahoeView","URI","XTahoeAsyncController","XTahoeMorePhotosAsyncController"],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c("TahoeView"));k=j&&j.prototype;function l(m){"use strict";k.constructor.call(this,m);this.$TahoePhotoView4=m;this.$TahoePhotoView5=this.$TahoePhotoView4.getID();this.$TahoePhotoView12=this.$TahoePhotoView4.getRelatedResultIDs().indexOf(this.$TahoePhotoView5);this.$TahoePhotoView11=false;this.$TahoePhotoView4.addEvent(c("Event").listen(document,"keydown",this.$TahoePhotoView13.bind(this)));this.$TahoePhotoView10=c("CSS").setClass(c("DOM").create("div"),"_1e8c _2b-0");this.$TahoePhotoView8=c("CSS").setClass(c("DOM").create("div"),"_5-lm");this.$TahoePhotoView3=c("CSS").setClass(c("DOM").create("div"),"_17am");this.$TahoePhotoView6=c("CSS").setClass(c("DOM").create("div"),"hidden_elem");c("ReactDOM").render(c("React").createElement(c("TahoeSidePanePhotosPlaceholder.react"),null),this.$TahoePhotoView8);c("DOM").appendContent(this.$TahoePhotoView4.getContent(),this.$TahoePhotoView10);c("DOM").appendContent(this.$TahoePhotoView4.getContent(),this.$TahoePhotoView8);c("DOM").appendContent(this.$TahoePhotoView4.getContent(),this.$TahoePhotoView6);if(this.$TahoePhotoView4.getMediaController()){this.$TahoePhotoView14(this.$TahoePhotoView4.getID(),false);this.setUpUFI()}else this.updateView(this.$TahoePhotoView4.getID());this.$TahoePhotoView1=new(c("SubscriptionsHandler"))();this.$TahoePhotoView1.addSubscriptions(c("Arbiter").subscribe("layer_shown",this.$TahoePhotoView15.bind(this)),c("Arbiter").subscribe("UFIAddComment/focus",this.selectCommentTab.bind(this)))}l.prototype.$TahoePhotoView15=function(m,n){"use strict"};l.prototype.setUpUFI=function(){"use strict";var m=this.$TahoePhotoView4.getMediaController();if(m)this.$TahoePhotoView4.addEvent(m.addListener("commercialBreak/showUFI",function(){return this.$TahoePhotoView16(false)}.bind(this)))};l.prototype.$TahoePhotoView16=function(m){"use strict";if(m)c("CSS").addClass(this.$TahoePhotoView3,"_17an");else c("CSS").removeClass(this.$TahoePhotoView3,"_17an")};l.prototype.$TahoePhotoView17=function(){"use strict"};l.prototype.$TahoePhotoView18=function(){"use strict";c("CSS").addClass(this.$TahoePhotoView8,"_4f4w");c("DOM").empty(this.$TahoePhotoView10)};l.prototype.$TahoePhotoView19=function(){"use strict";c("CSS").removeClass(this.$TahoePhotoView8,"_4f4w");if(this.$TahoePhotoView11){var m=c("DOMQuery").find(this.$TahoePhotoView8,"._3t0r");m=c("CSS").removeClass(m,"_3t0r");c("DOM").setContent(m,c("DOMQuery").find(this.$TahoePhotoView6,"._3t0v"));c("EventProfiler").informManualInteractionTimestamp(["Tahoe"],true,"click");this.$TahoePhotoView11=false}};l.prototype.$TahoePhotoView13=function(m){"use strict";if(m.keyCode===c("Keys").ESC&&!m.cancelBubble&&!m.defaultPrevented)this.$TahoePhotoView4.onExit();else if(m.keyCode===c("Keys").RIGHT&&this.$TahoePhotoView12>=0&&this.$TahoePhotoView12<this.$TahoePhotoView4.getRelatedResultIDs().length-1){this.$TahoePhotoView12++;var n=this.$TahoePhotoView4.getRelatedResultIDs()[this.$TahoePhotoView12];this.updateView(n)}else if(m.keyCode===c("Keys").LEFT&&this.$TahoePhotoView12>0){this.$TahoePhotoView12--;var o=this.$TahoePhotoView4.getRelatedResultIDs()[this.$TahoePhotoView12];this.updateView(o)}};l.prototype.$TahoePhotoView14=function(m,n,o){"use strict";this.$TahoePhotoView2=null;var p=c("XTahoeAsyncController").getURIBuilder().setFBID("id",m).setBool("isvideo",false).setBool("chain",n).setString("originalmediaid",this.$TahoePhotoView5).setString("sponsoreddata",o),q=new(c("AsyncRequest"))(p.getURI()).setHandler(function(t){var u=t.getPayload();if(n){var v=c("DOMQuery").scry(this.$TahoePhotoView4.getContent(),"._5-yb"),w=c("DOMQuery").scry(this.$TahoePhotoView8,"._1rgu");if(v[0])c("DOM").replace(v[0],c("HTML").replaceJSONWrapper(u.photo.markup));else c("DOM").appendContent(v,c("HTML").replaceJSONWrapper(u.photo.markup));c("DOM").setContent(this.$TahoePhotoView10,c("HTML").replaceJSONWrapper(u.ufiTray.markup));if(w[0])c("DOM").replace(w[0],c("HTML").replaceJSONWrapper(u.sidePane.markup));else c("DOM").appendContent(this.$TahoePhotoView8,c("HTML").replaceJSONWrapper(u.sidePane.markup))}else{c("DOM").appendContent(this.$TahoePhotoView10,c("HTML").replaceJSONWrapper(u.ufiTray.markup));c("DOM").appendContent(this.$TahoePhotoView8,c("HTML").replaceJSONWrapper(u.sidePane.markup))}this.$TahoePhotoView19();c("EventProfiler").informManualInteractionTimestamp(["Tahoe"],true,"click")}.bind(this)),r=this.$TahoePhotoView4.getRelatedResultIDs(),s=this.$TahoePhotoView20(m,r.map(function(t){return t.toString()}));q.setAllowCrossPageTransition(true);s&&s.setAllowCrossPageTransition(true);q.send();s.send();this.$TahoePhotoView18()};l.prototype.$TahoePhotoView20=function(m,n){"use strict";var o=c("XTahoeMorePhotosAsyncController").getURIBuilder().setFBID("current_photo_id",m).setFBIDVector("related_results",n),p=new(c("AsyncRequest"))(o.getURI()).setHandler(function(q){var r=q.getPayload(),s=c("HTML").replaceJSONWrapper(r.morePhotosUnit.markup);this.$TahoePhotoView11=true;var t=c("DOMQuery").scry(this.$TahoePhotoView6,"._3t0v")[0];if(t!=null)c("DOM").remove(this.$TahoePhotoView6);var u=c("DOMQuery").scry(this.$TahoePhotoView8,"._3t0r")[0];if(u!=null){c("CSS").removeClass(u,"_3dj6");c("DOM").setContent(u,s);this.$TahoePhotoView11=false}else c("DOM").setContent(this.$TahoePhotoView6,s)}.bind(this));return p};l.prototype.selectAddComment=function(){"use strict";k.selectAddComment.call(this)};l.prototype.selectCommentTab=function(){"use strict";var m=c("DOMQuery").scry(this.$TahoePhotoView8,"._1rgu")[0];c("CSS").addClass(m,"_601h");c("CSS").removeClass(m,"_1db2")};l.prototype.selectMorePhotosTab=function(){"use strict";var m=c("DOMQuery").scry(this.$TahoePhotoView8,"._1rgu")[0];if(m){c("CSS").addClass(m,"_1db2");c("CSS").removeClass(m,"_601h")}};l.prototype.updateView=function(m,n,o){var p=arguments.length<=3||arguments[3]===undefined?null:arguments[3];"use strict";var q=c("DOMQuery").scry(this.$TahoePhotoView6,"#preload-"+m);if(q[0])this.$TahoePhotoView21();else{this.$TahoePhotoView21();this.$TahoePhotoView14(m,true,p)}};l.prototype.$TahoePhotoView21=function(){"use strict";c("DOM").empty(this.$TahoePhotoView6)};l.prototype.onExit=function(){"use strict"};l.registerCommentLink=function(m){"use strict";k.registerCommentLink.call(this,m)};l.registerSidepaneTabbar=function(m){var n;"use strict";var o=c("Tahoe").get();if(o!=null)(function(){var p=o.getView();if(p instanceof l)m.subscribe(c("TabBar").TAB_CLICK,function(q,r){switch(r){case"more-photos":p.selectMorePhotosTab();break;case"comments":p.selectCommentTab()}})})()};l.handleMorePhotosUnitClick=function(m){"use strict";var n=c("Tahoe").get();if(n==null)throw new Error("TahoePhotoView should always have a TahoeController");else{var o=n.getView();if(o instanceof l){var p=c("PhotoPermalinkURI").parse(new(c("URI"))(m.getAttribute("href")));if(p!=null){var q=p.photo_id;o.updateView(q)}}}};l.loadView=function(m){"use strict";return new l(m)};f.exports=l}),null);
__d("TahoeVideoStore",["TahoeDispatcher","FluxMapStore","immutable","TahoeActionTypes"],(function a(b,c,d,e,f,g){"use strict";var h,i;h=babelHelpers.inherits(j,c("FluxMapStore"));i=h&&h.prototype;j.prototype.reduce=function(k,l){switch(l.type){case c("TahoeActionTypes").SET_MC:k=k.set("mediaController",l.mediaController);break;default:break}return k};function j(){h.apply(this,arguments)}f.exports=new j(c("TahoeDispatcher"))}),null);
__d("TahoeController",["cx","csx","Arbiter","BootloadedComponent.react","CSS","CurrentUser","DialogX","DOM","DOMQuery","EventProfiler","FantaTabActions","JSResource","PageTransitions","PhotoPermalinkURI","React","ReactDOM","ResizeListener","Style","Tahoe","TahoeActions","TahoeDispatcher","TahoeLoggerEvent","TahoeMediaType","TahoeTypedLogger","TahoeVariables","TahoeVideoView","TahoePhotoView","TimeSlice","URI","VideoAutoplayControllerX","VideoChannelCallerToPlayerOriginMap","VideoPermalinkURI","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","XUISpinner.react","getElementPosition","getVendorPrefixedName","requireWeak","shouldWNSRenderToRHC","TahoeVideoStore"],(function a(b,c,d,e,f,g,h,i){var j;c("requireWeak")("VideoProgressPreviewBar.react",function(s){j=s});var k;c("requireWeak")("VideoWatchAndScrollController",function(s){k=s});var l=400,m=c("CurrentUser").isLoggedIn()?43:0,n=48,o=876,p=o-l,q=560-m-n;function r(s){"use strict";this.$TahoeController1=false;this.$TahoeController3=true;this.$TahoeController19=false;this.$TahoeController20=false;this.$TahoeController24=c("VideoPlayerReason").USER;this.$TahoeController43=function(){this.$TahoeController40()}.bind(this);c("TahoeDispatcher").explicitlyRegisterStores([c("TahoeVideoStore")]);c("EventProfiler").tagCurrentActiveInteractionsAs("Tahoe");this.$TahoeController22=s.mediaType;this.$TahoeController11=[];this.$TahoeController19=s.isPermalink;if(this.$TahoeController22===c("TahoeMediaType").VIDEO){this.$TahoeController29=s.origin;this.$TahoeController30=s.suborigin;this.$TahoeController5=s.channelID;this.$TahoeController4=s.caller;this.$TahoeController31=s.reactionVideoChannelType}this.$TahoeController8=s.externalLogID;this.$TahoeController7=c("URI").getRequestURI();this.$TahoeController23=this.$TahoeController32.bind(this);c("PageTransitions").registerHandler(this.$TahoeController23);c("PageTransitions").go(s.uri);this.$TahoeController9=this.$TahoeController33();this.$TahoeController9.show();this.$TahoeController34();if(s.mediaController){switch(this.$TahoeController22){case c("TahoeMediaType").VIDEO:this.$TahoeController35(s.mediaController.video);this.$TahoeController13=this.$TahoeController27.getMediaID();break;case c("TahoeMediaType").PHOTO:this.$TahoeController35(s.mediaController);this.$TahoeController13=c("PhotoPermalinkURI").parse(s.uri).photo_id;break}this.$TahoeController36();this.$TahoeController16=this.$TahoeController21}else{this.$TahoeController37();switch(this.$TahoeController22){case c("TahoeMediaType").VIDEO:this.$TahoeController13=c("VideoPermalinkURI").parse(s.uri).video_id;break;case c("TahoeMediaType").PHOTO:this.$TahoeController13=c("PhotoPermalinkURI").parse(s.uri).photo_id;break}}c("FantaTabActions").minimizeAllTabs();c("Arbiter").inform("chat/option-changed",{name:"hide_buddylist",value:true});this.$TahoeController25=s.relatedResultIDs||[];if(c("TahoeVariables").useTahoePhotos&&this.$TahoeController22===c("TahoeMediaType").PHOTO)this.$TahoeController28=c("TahoePhotoView").loadView(this);else this.$TahoeController28=c("TahoeVideoView").loadView(this,this.$TahoeController29,this.$TahoeController30)}r.prototype.go=function(s){"use strict";c("PageTransitions").go(s)};r.prototype.onExit=function(s){"use strict";if(this.$TahoeController1)this.$TahoeController38();else if(s=="wns"){this.logEvent(c("TahoeLoggerEvent").EXIT_WITH_WNS_CONTROL);c("PageTransitions").go(this.$TahoeController7)}else c("PageTransitions").go(this.$TahoeController7)};r.prototype.getReactionVideoChannelType=function(){"use strict";return this.$TahoeController31};r.prototype.getRelatedResultIDs=function(){"use strict";return this.$TahoeController25};r.prototype.$TahoeController33=function(){"use strict";var s={width:o};this.$TahoeController10=c("CSS").setClass(c("DOM").create("div"),"_5-g-");var t=new(c("DialogX"))(s,this.$TahoeController10);c("CSS").setClass(t.getRoot(),"_5-g_");if(document.body)c("CSS").addClass(document.body,"_1_-b");return t};r.prototype.$TahoeController34=function(){"use strict";var s=c("DOMQuery").find(document.body,"._li");c("DOM").appendContent(s,this.$TahoeController9.getRoot())};r.prototype.$TahoeController39=function(){"use strict";c("ReactDOM").render(c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("TahoeBackAffordanceContainer.react").__setRef("TahoeController"),bootloadPlaceholder:c("React").createElement("div",{className:"_4ua2"}),entryURI:this.$TahoeController7,isPermalink:this.$TahoeController19,mediaController:this.$TahoeController27}),this.$TahoeController10)};r.prototype.$TahoeController35=function(s){"use strict";c("TahoeActions").setMediaController(s);this.$TahoeController27=s};r.prototype.$TahoeController37=function(){"use strict";this.$TahoeController39();var s=this.$TahoeController22===c("TahoeMediaType").PHOTO?c("CSS").setClass(c("DOM").create("div"),"_2-sx"):c("CSS").setClass(c("DOM").create("div"),"_1c_u");c("ReactDOM").render(c("React").createElement(c("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),s);this.$TahoeController21=s;var t=c("CSS").setClass(c("DOM").create("div"),"_5-yb _5_63");c("DOM").setContent(t,this.$TahoeController21);c("DOM").prependContent(this.$TahoeController10,t);this.$TahoeController40()};r.prototype.$TahoeController36=function(){"use strict";this.$TahoeController39();this.$TahoeController12=c("DOM").create("div");switch(this.$TahoeController22){case c("TahoeMediaType").VIDEO:var s=this.$TahoeController27;this.$TahoeController21=s.getRootNode();this.$TahoeController17=this.$TahoeController27;var t=s.getSource();this.$TahoeController18=t?t:c("VideoPlayerLoggerSource").INLINE;break;case c("TahoeMediaType").PHOTO:this.$TahoeController21=this.$TahoeController27.getRootNode();this.$TahoeController17=this.$TahoeController27;break}var u=c("getElementPosition")(this.$TahoeController21);this.$TahoeController14=this.$TahoeController21.clientWidth;this.$TahoeController15=this.$TahoeController21.clientHeight;c("DOM").insertAfter(this.$TahoeController21,this.$TahoeController12);this.$TahoeController26=true;var v=c("CSS").setClass(c("DOM").create("div"),"_5-yb _5_63");c("DOM").setContent(v,this.$TahoeController21);c("DOM").prependContent(this.$TahoeController10,v);this.$TahoeController41(v,u)};r.prototype.$TahoeController41=function(s,t){"use strict";this.$TahoeController42();var u=c("Style").getFloat(this.$TahoeController21,"width"),v=c("Style").getFloat(this.$TahoeController21,"height"),w="translate("+t.x+"px,"+t.y+"px)",x="scale("+t.width/u+", "+t.height/v+")";c("Style").set(s,c("getVendorPrefixedName")("transform"),w+" "+x);s.offsetWidth;c("Style").set(s,"transition","all .4s cubic-bezier(.12,.8,.32,1)");c("Style").set(s,c("getVendorPrefixedName")("transform"),"none")};r.prototype.$TahoeController42=function(){"use strict";this.$TahoeController2=parseFloat(this.$TahoeController21.getAttribute("data-original-aspect-ratio"));switch(this.$TahoeController22){case c("TahoeMediaType").VIDEO:var s=this.$TahoeController27;s.updateSource(c("VideoPlayerLoggerSource").TAHOE);c("VideoAutoplayControllerX").setShouldAutoplay(false);s.unmute();if(this.$TahoeController3||this.$TahoeController24===c("VideoPlayerReason").USER)s.play(this.$TahoeController24);this.$TahoeController27.emit("TahoeController/enterTahoe");if(j)j.destroyComponentIfAvailable(this.$TahoeController27)}this.$TahoeController40();this.$TahoeController11.push(c("ResizeListener").add(this.$TahoeController43))};r.prototype.setPlayReason=function(s){"use strict";this.$TahoeController24=s};r.prototype.addEvent=function(event){"use strict";this.$TahoeController11.push(event)};r.prototype.getMediaController=function(){"use strict";return this.$TahoeController27};r.prototype.$TahoeController40=function(){"use strict";if(this.$TahoeController20)return;var s=window.innerWidth-l;s=Math.max(s,p);var t=window.innerHeight-m-n;t=Math.max(t,q);c("Style").set(this.$TahoeController21,"width",s+"px");c("Style").set(this.$TahoeController21,"height",t+"px");switch(this.$TahoeController22){case c("TahoeMediaType").VIDEO:var u=this.$TahoeController27;u&&u.removeOffsetStylings();break;case c("TahoeMediaType").PHOTO:break}this.$TahoeController27&&this.$TahoeController27.setDimensions(s,t)};r.prototype.$TahoeController32=function(s){"use strict";var t=c("URI").getRequestURI();if(s.getPath()===this.$TahoeController7.getPath()&&s.getQueryData().ref!=="tahoe")if(this.$TahoeController18===c("VideoPlayerLoggerSource").WATCH_SCROLL){this.$TahoeController1=true;if(c("shouldWNSRenderToRHC")())this.$TahoeController27.emit("crossfadeWatchAndScroll");else this.$TahoeController27.emit("enterWatchAndScroll")}else this.$TahoeController38();else if(!this.$TahoeController44(s)){this.$TahoeController38();return false}else if((this.$TahoeController7.getPath()!=t.getPath()||t.getQueryData().ref==="tahoe")&&t.getPath()!=s.getPath())this.$TahoeController45(s);c("PageTransitions").transitionComplete();return true};r.prototype.$TahoeController44=function(s){"use strict";if(c("TahoeVariables").useTahoePhotos)return c("PhotoPermalinkURI").isValid(s)||c("VideoPermalinkURI").isValid(s);else return c("VideoPermalinkURI").isValid(s)};r.prototype.$TahoeController45=function(s){"use strict";this.$TahoeController20=true;var t=this.$TahoeController27;t.pause();this.$TahoeController46();var u=c("VideoPermalinkURI").parse(s).video_id,v=s.getQueryData().sp;this.$TahoeController28.updateView(u,this.$TahoeController5,this.$TahoeController4,v)};r.prototype.resetChannelData=function(){"use strict";this.$TahoeController5=null;this.$TahoeController4=null};r.prototype.$TahoeController46=function(){"use strict";var s=this.$TahoeController21.clientHeight,t=c("CSS").setClass(c("DOM").create("div"),"_1c_u _61-j");c("ReactDOM").render(c("React").createElement(c("XUISpinner.react"),{size:"large",background:"dark"}),t);c("Style").set(t,"height",s+"px");c("DOM").prependContent(this.$TahoeController10,t);if(this.$TahoeController26){c("DOM").insertAfter(this.$TahoeController12,this.$TahoeController16);c("DOM").remove(this.$TahoeController12);c("Style").set(this.$TahoeController16,"width","");c("Style").set(this.$TahoeController16,"height","")}else c("DOM").remove(this.$TahoeController10.children[1]);this.$TahoeController26=false};r.prototype.$TahoeController38=function(){"use strict";this.$TahoeController28&&this.$TahoeController28.onExit();c("PageTransitions").removeHandler(this.$TahoeController23);this.$TahoeController11.forEach(function(u){return u.remove()});c("Style").set(this.$TahoeController21,"width","");c("Style").set(this.$TahoeController21,"height","");this.$TahoeController46();switch(this.$TahoeController22){case c("TahoeMediaType").VIDEO:var s=this.$TahoeController17;c("VideoAutoplayControllerX").setShouldAutoplay(true);if(this.$TahoeController17){if(!(this.$TahoeController18===c("VideoPlayerLoggerSource").WATCH_SCROLL&&this.$TahoeController17!==this.$TahoeController27)){s.addOffsetStylings();s.setDimensions(this.$TahoeController14,this.$TahoeController15);s.updateSource(this.$TahoeController18)}s.pause(c("VideoPlayerReason").AUTOPLAY);s.mute();this.$TahoeController17.emit("resumeAutoplay");this.$TahoeController17.emit("TahoeController/exitTahoe")}this.$TahoeController27&&this.$TahoeController27.emit("TahoeController/exitTahoe");if(this.$TahoeController27!==this.$TahoeController17){var t=this.$TahoeController27;t.pause(c("VideoPlayerReason").USER)}break}if(document.body)c("CSS").removeClass(document.body,"_1_-b");c("ReactDOM").unmountComponentAtNode(this.$TahoeController10);this.$TahoeController9.destroy();this.$TahoeController6&&this.$TahoeController6.__cancelCallback&&this.$TahoeController6.__cancelCallback();c("Tahoe").set(null);if(this.$TahoeController19)c("PageTransitions").go("/")};r.prototype.getID=function(){"use strict";return this.$TahoeController13};r.prototype.getContent=function(){"use strict";return this.$TahoeController10};r.prototype.getChannelID=function(){"use strict";return this.$TahoeController5};r.prototype.getCaller=function(){"use strict";return this.$TahoeController4};r.prototype.getExternalLogID=function(){"use strict";return this.$TahoeController8};r.prototype.getIsPermalink=function(){"use strict";return this.$TahoeController19};r.prototype.updateMedia=function(s){"use strict";this.$TahoeController35(s);this.$TahoeController21=this.$TahoeController27.getRootNode();this.$TahoeController13=this.$TahoeController27.getMediaID();this.$TahoeController20=false;this.$TahoeController42();if(this.$TahoeController22===c("TahoeMediaType").VIDEO){var t=this.$TahoeController28;t.setUpEndScreen()}this.$TahoeController28.setUpUFI();this.$TahoeController24=c("VideoPlayerReason").USER};r.prototype.getView=function(){"use strict";return this.$TahoeController28};r.prototype.setAutoplayAllowed=function(s){"use strict";this.$TahoeController3=s};r.prototype.logEvent=function(s){"use strict";new(c("TahoeTypedLogger"))().setEvent(s).setMediaID(this.$TahoeController13).log()};r.openFromVideoPlayer=function(s,t,u,v,w){"use strict";c("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoPlayer");var x=c("TimeSlice").getGuardedContinuation("TahoeController beginPlayback");s.once("beginPlayback",x.bind(undefined,function(){c("EventProfiler").informPointOnActiveInteractions("tahoe_media_done",{isPointOfInterest:true},true)}));var y=new r({mediaType:c("TahoeMediaType").VIDEO,mediaController:{video:s},uri:t,channelID:u,caller:v});y.$TahoeController6=x;c("Tahoe").set(y);switch(w){case"player_click":y.logEvent(c("TahoeLoggerEvent").ENTER_WITH_PLAYER_CLICK);break;case"control_click":y.logEvent(c("TahoeLoggerEvent").ENTER_WITH_CONTROL_CLICK);break}};r.openFromVideoLink=function(s,t,u,v,w,x,y){"use strict";c("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromVideoLink");if(k)k.pauseActiveVideo();var z=c("Tahoe").get();if(z){c("PageTransitions").go(s);return}if(!v)v=u&&u in c("VideoChannelCallerToPlayerOriginMap")?c("VideoChannelCallerToPlayerOriginMap")[u]:c("VideoPlayerOrigins").UNKNOWN;c("Tahoe").set(new r({mediaType:c("TahoeMediaType").VIDEO,uri:s,channelID:t,caller:u,origin:v,suborigin:w,reactionVideoChannelType:x,externalLogID:y}))};r.openFromVideoLinkHelper=function(s,t){"use strict";var u=s.getAttribute("data-channel-caller"),v=u,w=s.getAttribute("data-external-log-id")||undefined,x=s.getAttribute("data-player-origin")||t;r.openFromVideoLink(new(c("URI"))(s.getAttribute("href")).addQueryData("ref","tahoe"),s.getAttribute("data-video-channel-id"),v,x||undefined,undefined,undefined,w)};r.openFromVideoPermalink=function(s){"use strict";c("Tahoe").set(new r({mediaType:c("TahoeMediaType").VIDEO,uri:new(c("URI"))(s),origin:c("VideoPlayerOrigins").PERMALINK,suborigin:"tahoe",isPermalink:true}))};r.openFromPhoto=function(s,t){"use strict";c("EventProfiler").tagCurrentActiveInteractionsAs("TahoeFromPhoto");c("Tahoe").set(new r({mediaType:c("TahoeMediaType").PHOTO,uri:s,relatedResultIDs:t}))};r.openFromPhotoHelper=function(s,t){"use strict";r.openFromPhoto(new(c("URI"))(s.getAttribute("href")),t)};f.exports=r}),null);