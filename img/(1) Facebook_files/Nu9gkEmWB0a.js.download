if (self.CavalryLogger) { CavalryLogger.start_js(["j27sz"]); }

__d("AdsSpeedInterval",["DateConsts","Random"],(function a(b,c,d,e,f,g){"use strict";var h=c("DateConsts").MS_PER_MIN;function i(j){this.$AdsSpeedInterval1=false;this.$AdsSpeedInterval3={};this.$AdsSpeedInterval4=[];this.$AdsSpeedInterval5=null;this.$AdsSpeedInterval2=j.name;this.$AdsSpeedInterval6=j.samplingRate}i.prototype.registerAlarm=function(j){this.register("start",j.start);this.registerEnd(j.end)};i.prototype.register=function(j,k){var l=this.$AdsSpeedInterval3[j]||[];l.push(k);this.$AdsSpeedInterval3[j]=l};i.prototype.registerEnd=function(j){this.$AdsSpeedInterval4.push(j)};i.prototype.$AdsSpeedInterval7=function(j){var k=this.$AdsSpeedInterval3[j];if(!k)return;k.forEach(function(l){return l()})};i.prototype.$AdsSpeedInterval8=function(j){this.$AdsSpeedInterval4.forEach(function(k){return k(j)})};i.prototype.isActive=function(){return this.$AdsSpeedInterval1};i.prototype.start=function(){if(this.$AdsSpeedInterval1)return;if(!c("Random").coinflip(this.$AdsSpeedInterval6))return;this.$AdsSpeedInterval1=true;this.$AdsSpeedInterval7("activate");this.$AdsSpeedInterval7("start");this.$AdsSpeedInterval5=setTimeout(function(){return this.end("timeout")}.bind(this),h)};i.prototype.end=function(){var j=arguments.length<=0||arguments[0]===undefined?"succeed":arguments[0];if(this.$AdsSpeedInterval5)clearTimeout(this.$AdsSpeedInterval5);if(!this.isActive())return;this.$AdsSpeedInterval1=false;this.$AdsSpeedInterval7("deactivate");this.$AdsSpeedInterval8(j)};f.exports=i}),null);