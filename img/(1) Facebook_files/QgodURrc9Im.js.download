if (self.CavalryLogger) { CavalryLogger.start_js(["Q4KzR"]); }

__d("GroupsComposerNuxTypes",[],(function a(b,c,d,e,f,g){var h={DRAFT:5047,SCHEDULE:4670};f.exports=h}),null);
__d("ReactComposerFindPlayersActionType",["keyMirror"],(function a(b,c,d,e,f,g){f.exports=c("keyMirror")({SAVE_NAME:null,SAVE_TAGS:null,SAVE_TITLE:null,SET_FIND_PLAYERS_CONFIG:null})}),null);
__d("ReactComposerFindPlayersStore",["ReactComposerFindPlayersActionType","ReactComposerStoreBase","GamesFindPlayersGatekeepers","getHashtagRegex"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k;i.constructor.call(this,function(){return{description:"",name:"",tags:"",title:""}},function(l){switch(l.type){case c("ReactComposerFindPlayersActionType").SAVE_NAME:k.$ReactComposerFindPlayersStore1(l);break;case c("ReactComposerFindPlayersActionType").SAVE_TAGS:k.$ReactComposerFindPlayersStore2(l);break;case c("ReactComposerFindPlayersActionType").SAVE_TITLE:k.$ReactComposerFindPlayersStore3(l);break}});this.MAX_NAME_LENGTH=32;this.MAX_TITLE_LENGTH=99;k=this}j.prototype.getCanPost=function(k){"use strict";return this.getTitle(k).replace(/^\s+/g,"")!==""&&this.getName(k).replace(/^\s+/g,"")!==""&&this.getTags(k).length===this.getCorrectTagsLength(k)};j.prototype.getName=function(k){"use strict";return this.getComposerData(k).name};j.prototype.getTags=function(k){"use strict";return this.getComposerData(k).tags};j.prototype.getCorrectTagsLength=function(k){"use strict";var l=c("getHashtagRegex")(),m=this.getTags(k),n=0,o=void 0,p=void 0,q=void 0,r=void 0;while((o=l.exec(m))!==null){p=o.index+o[1].length;q=o[2];r=o[3];var s=p+q.length+r.length;n+=s-p}n+=m.split(" ").length-1;return n};j.prototype.getTitle=function(k){"use strict";return this.getComposerData(k).title};j.prototype.$ReactComposerFindPlayersStore1=function(k){"use strict";var l=this.validateAction(k,["composerID","name"]),m=l[0],n=l[1],o=this.getComposerData(m);o.name=n;this.emitChange(m)};j.prototype.handleChangedTagsHelper=function(k,l){"use strict";var m=l.split(" "),n=k.split(" ");if(k.length===1&&k!=="#")return"#"+k;if(n.length<=m.length)return k;var o="";for(var p=0;p<n.length;p++)if(n[p].length>0){if(n[p].charAt(0)!=="#")o+="#"+n[p];else o+=n[p];o+=" "}return o};j.prototype.$ReactComposerFindPlayersStore2=function(k){"use strict";var l=this.validateAction(k,["composerID","tags"]),m=l[0],n=l[1],o=c("GamesFindPlayersGatekeepers").findPlayersAutoHashTags?this.handleChangedTagsHelper(n,this.getComposerData(m).tags):n,p=this.getComposerData(m);p.tags=o;this.emitChange(m)};j.prototype.$ReactComposerFindPlayersStore3=function(k){"use strict";var l=this.validateAction(k,["composerID","title"]),m=l[0],n=l[1],o=this.getComposerData(m);o.title=n;this.emitChange(m)};f.exports=new j()}),null);
__d("ReactComposerMarkdownActionType",["keyMirrorRecursive"],(function a(b,c,d,e,f,g){"use strict";f.exports=c("keyMirrorRecursive")({ENABLE_MARKDOWN:null,DISABLE_MARKDOWN:null,HIDE_INTERCEPT:null,SHOW_INTERCEPT:null},"ReactComposerMarkdownActionType")}),null);
__d("ReactComposerMarkdownStore",["ReactComposerMarkdownActionType","ReactComposerStoreBase"],(function a(b,c,d,e,f,g){"use strict";var h,i,j={UNKNOWN:0,CHECKING:1,ENABLED:2,DISABLED:3};h=babelHelpers.inherits(k,c("ReactComposerStoreBase"));i=h&&h.prototype;function k(){var l;i.constructor.call(this,function(){return{state:j.UNKNOWN}},function(m){switch(m.type){case c("ReactComposerMarkdownActionType").SHOW_INTERCEPT:l&&l.$ReactComposerMarkdownStore1(m);break;case c("ReactComposerMarkdownActionType").HIDE_INTERCEPT:l&&l.$ReactComposerMarkdownStore2(m);break;case c("ReactComposerMarkdownActionType").ENABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore3(m);break;case c("ReactComposerMarkdownActionType").DISABLE_MARKDOWN:l&&l.$ReactComposerMarkdownStore4(m);break}});l=this}k.prototype.showIntercept=function(l){return this.getComposerData(l).state===j.CHECKING};k.prototype.interceptAttempted=function(l){var m=this.getComposerData(l),n=m.state;return n===j.ENABLED||n===j.DISABLED};k.prototype.isMarkdownEnabled=function(l){return this.getComposerData(l).state===j.ENABLED};k.prototype.$ReactComposerMarkdownStore1=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.CHECKING;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore2=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.UNKNOWN;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore3=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.ENABLED;this.emitChange(m)};k.prototype.$ReactComposerMarkdownStore4=function(l){var m=this.validateAction(l,["composerID"]),n=this.getComposerData(m);n.state=j.DISABLED;this.emitChange(m)};f.exports=new k()}),null);
__d("ReactComposerMediaAttachmentPostButtonContainer.react",["React","ReactComposerMediaPostButtonContainerMixin"],(function a(b,c,d,e,f,g){var h=c("React").createClass({displayName:"ReactComposerMediaAttachmentPostButtonContainer",mixins:[c("ReactComposerMediaPostButtonContainerMixin")]});f.exports=h}),null);
__d("ReactComposerGroupStore",["AsyncRequest","DateConsts","GroupsComposerActionsTypes","ReactComposerActionStore","ReactComposerMediaConfig","ReactComposerPostUtils","XBasicFBNuxDismissController","XBasicFBNuxViewController"],(function a(b,c,d,e,f,g){var h,i,j={scheduledPublishTime:null,visibleNuxes:[]};h=babelHelpers.inherits(k,c("ReactComposerActionStore"));i=h&&h.prototype;function k(){"use strict";var l;i.constructor.call(this,function(){return Object.assign({},j)},function(m){switch(m.type){case c("GroupsComposerActionsTypes").SCHEDULE:l&&l.$ReactComposerGroupStore1(m);break;case c("GroupsComposerActionsTypes").SET_NUX_VISIBLE:l&&l.$ReactComposerGroupStore2(m);break;case c("GroupsComposerActionsTypes").DRAFT:l&&l.$ReactComposerGroupStore3(m);break}});l=this}k.prototype.getIsNuxVisible=function(l,m){"use strict";var n=this.getComposerData(l);return!!n.visibleNuxes[m]};k.prototype.__onPostStarted=function(l){"use strict";var m=this.getComposerData(l.composerID),n=m.unpublishedContentType,o=m.scheduledPublishTime;if(n==="SCHEDULED"&&o){var p=Math.round(o/c("DateConsts").MS_PER_SEC);l.config.contextInfo.scheduled=true;l.config.contextInfo.unpublished_content_type="SCHEDULED";l.config.contextInfo.scheduled_publish_time=p}else if(n==="DRAFT"){l.config.contextInfo.scheduled=false;l.config.contextInfo.unpublished_content_type="DRAFT";l.config.contextInfo.scheduled_publish_time=null}else{l.config.contextInfo.scheduled=false;l.config.contextInfo.unpublished_content_type=null;l.config.contextInfo.scheduled_publish_time=null}var q=m.visibleNuxes;q.forEach(function(r,s){this.$ReactComposerGroupStore2({composerID:l.composerID,type:c("GroupsComposerActionsTypes").SET_NUX_VISIBLE,nuxID:s,visible:false})}.bind(this));c("ReactComposerPostUtils").post({actorID:l.actorID,composerConfig:l.config,composerID:l.composerID,targetID:l.targetID})};k.prototype.__canPost=function(l){"use strict";return!c("ReactComposerPostUtils").isPostButtonDisabled(l.composerID,c("ReactComposerMediaConfig").photo.limit)};k.prototype.$ReactComposerGroupStore1=function(l){"use strict";var m=this.getComposerData(l.composerID);m.unpublishedContentType="SCHEDULED";m.scheduledPublishTime=l.scheduledPublishTime};k.prototype.$ReactComposerGroupStore2=function(l){"use strict";var m=this.getComposerData(l.composerID),n=l.nuxID,o=m.visibleNuxes[n],p=l.visible;if(o===undefined&&p){var q=c("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(q).send();m.visibleNuxes[n]=true;this.emitChange(l.composerID)}else if(o===true&&!p){var r=c("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",n).getURI();new(c("AsyncRequest"))().setURI(r).send();m.visibleNuxes[n]=false;this.emitChange(l.composerID)}};k.prototype.$ReactComposerGroupStore3=function(l){"use strict";var m=this.getComposerData(l.composerID);m.unpublishedContentType="DRAFT";m.scheduledPublishTime=null};f.exports=new k()}),null);
__d("ReactComposerGroupPostButtonContainer.react",["ix","cx","fbt","invariant","AsyncRequest","BootloadedComponent.react","Bootloader","ContextualDialogArrow","GroupsComposerActions","GroupsComposerNuxTypes","GroupSellInterceptUtil","Image.react","JSResource","LoadingDialog.react","PageTransitions","React","ReactComponentWithPureRenderMixin","ReactComposerActions","ReactComposerAttachmentStore","ReactComposerAttachmentType","ReactComposerConfig","ReactComposerContextMixin","ReactComposerFileStore","ReactComposerFindPlayersStore","ReactComposerGroupStore","ReactComposerMarkdownStore","ReactComposerMediaAttachmentPostButtonContainer.react","ReactComposerMediaUploadStore","ReactComposerOptimisticPostingStore","ReactComposerPhotoStore","ReactComposerPostButtonContainer.react","ReactComposerPostUtils","ReactComposerPropsAndStoreBasedStateMixin","ReactComposerScrapedAttachmentStore","ReactComposerSellStore","ReactComposerStatusStore","ReactComposerStore","ReactComposerVideoUploadStore","ReactComposerWorkFileStore","JobSearchSurface","PopoverMenu.react","ReactFragment","ReactLayeredComponentMixin_DEPRECATED","TooltipLink.react","XJobOpeningComposerInterceptController","XUIAmbientNUX.react","XUIButton.react","ReactXUIMenu","fbglyph"],(function a(b,c,d,e,f,g,h,i,j,k){var l=c("ReactComposerWorkFileStore").module,m=c("ReactXUIMenu").Item,n=l||c("ReactComposerFileStore"),o=c("React").createClass({displayName:"ReactComposerGroupPostButtonContainer",mixins:[c("ReactComposerContextMixin"),c("ReactComponentWithPureRenderMixin"),c("ReactComposerPropsAndStoreBasedStateMixin")(c("ReactComposerAttachmentStore"),c("ReactComposerPhotoStore"),c("ReactComposerMediaUploadStore"),c("ReactComposerSellStore"),c("ReactComposerStore"),c("ReactComposerVideoUploadStore"),c("ReactComposerMarkdownStore"),c("ReactComposerGroupStore"),c("ReactComposerOptimisticPostingStore"),c("ReactComposerFindPlayersStore"),n),c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{config:c("ReactComposerConfig").isRequired},statics:{calculateState:function p(q,r,s){var t=r.config.attachmentsConfig[c("ReactComposerAttachmentType").MEDIA],u=c("ReactComposerPostUtils").isPostButtonDisabled(q,t.photoLimit),v=c("ReactComposerStore").isPosting(q),w=c("ReactComposerOptimisticPostingStore").isOptimisticallyPosting(q),x=c("ReactComposerAttachmentStore").getSelectedAttachmentID(q);return{currencySymbol:c("ReactComposerSellStore").getCurrencySymbol(q),interceptWords:c("ReactComposerSellStore").getInterceptWords(q),interceptWordsAfterNumber:c("ReactComposerSellStore").getInterceptedWordsAfterNumber(q),isSellDialogShown:c("ReactComposerSellStore").showURLIntercept(q),isMarkdownDialogShown:c("ReactComposerMarkdownStore").showIntercept(q),mediaUploads:c("ReactComposerMediaUploadStore").getUploads(q),selectedAttachment:x,showScheduleNux:c("ReactComposerGroupStore").getIsNuxVisible(q,c("GroupsComposerNuxTypes").SCHEDULE),showDraftNux:c("ReactComposerGroupStore").getIsNuxVisible(q,c("GroupsComposerNuxTypes").DRAFT),disabled:v||w||u||x===c("ReactComposerAttachmentType").FILE&&!n.isFileSelected(q)||x===c("ReactComposerAttachmentType").FIND_PLAYERS&&!c("ReactComposerFindPlayersStore").getCanPost(q)||x===c("ReactComposerAttachmentType").QUESTION&&u}}},getInitialState:function p(){return{isSchedulePostDialogShown:false}},_performInterceptAttempt:function p(q,r){if(this._showSellIntercept())return true;if(this._shouldAttemptSellIntercept())if(c("GroupSellInterceptUtil").shouldAttemptInterceptReact(q,r,this.state.interceptWords,this.state.interceptWordsAfterNumber,this.state.currencySymbol)){this.setState({isSellDialogShown:true});return false}if(this._shouldAttemptJobsIntercept()){var s=c("XJobOpeningComposerInterceptController").getURIBuilder().setEnum("source",c("JobSearchSurface").GROUP_COMPOSER).setString("composer_post_text",c("ReactComposerStatusStore").getMessageText(q)).setString("target_id",this.context.targetID).getURI();new(c("AsyncRequest"))(s).setHandler(function(t){var u=t.getPayload();if(!u||!u.shouldPerformIntercept)this._onClick();else this.setState({isJobsDialogShown:true,jobsComposerInterceptSessionId:u.jobsComposerInterceptSessionId})}.bind(this)).send();return false}return true},componentDidMount:function p(){c("ReactComposerGroupStore").registerComposerID(this.context.composerID);this._initializeNuxes();c("PageTransitions").registerHandler(this._hideNuxes,10);if(this._shouldAttemptSellIntercept()){c("ReactComposerActions").registerPostIntendedHandler(function(q,r,s,t){return this._performInterceptAttempt(q,t)}.bind(this));c("Bootloader").loadModules(["GroupSellInterceptDialogContainer.react"],function(q){this.setState({sellInterceptDialog:q})}.bind(this),"ReactComposerGroupPostButtonContainer.react")}if(this._shouldAttemptMarkdownIntercept())c("Bootloader").loadModules(["MarkdownInterceptDialogContainer.react"],function(q){this.setState({markdownInterceptDialog:q})}.bind(this),"ReactComposerGroupPostButtonContainer.react");if(this._shouldAttemptJobsIntercept())c("Bootloader").loadModules(["JobsComposerGroupsInterceptDialog.react"],function(q){this.setState({jobsInterceptDialog:q})}.bind(this),"ReactComposerGroupPostButtonContainer.react")},componentWillUnmount:function p(){c("PageTransitions").removeHandler(this._hideNuxes)},render:function p(){var q=this.state.sellInterceptDialog,r=this.state.markdownInterceptDialog,s=this.state.jobsInterceptDialog,t=this._getScheduleButton(),u=this.props.config,v=u.postButtonConfig;if(v&&v.isScheduledPost)return c("React").createElement(c("ReactComposerPostButtonContainer.react"),{ref:"schedule_button",label:j._("Programar publica\u00e7\u00e3o"),config:u,onClickPreprocess:this._onClickPreprocess});return c("React").createElement("div",{className:"_332r"},this._canDraft()?null:t,this._isMediaAttachment()?c("React").createElement(c("ReactComposerMediaAttachmentPostButtonContainer.react"),babelHelpers["extends"]({},this.props,{config:this.props.config,onClickPreprocess:this._onClickPreprocess,forceDisabled:this.state.disabled})):c("React").createElement(c("ReactComposerPostButtonContainer.react"),babelHelpers["extends"]({},this.props,{config:this.props.config,onClickPreprocess:this._onClickPreprocess,forceDisabled:this.state.disabled})),this._canDraft()?t:null,this._renderScheduleDialog(),q&&this.state.isSellDialogShown?c("React").createElement(q,{config:this.props.config}):null,r&&this.state.isMarkdownDialogShown?c("React").createElement(r,{config:this.props.config}):null,s&&this.state.isJobsDialogShown?c("React").createElement(s,{config:this.props.config,source:c("JobSearchSurface").GROUP_COMPOSER,jobsComposerInterceptSessionId:this.state.jobsComposerInterceptSessionId}):null)},renderLayers:function p(){return c("ReactFragment").create({schedule_nux:c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.schedule_button}.bind(this),shown:this.state.showScheduleNux,onCloseButtonClick:function(){this._setNuxVisible(c("GroupsComposerNuxTypes").SCHEDULE,false)}.bind(this),position:"above"},j._("Novo! Agora voc\u00ea programar suas publica\u00e7\u00f5es para serem exibidas posteriormente.")),draft_nux:c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.schedule_button}.bind(this),shown:this.state.showDraftNux,onCloseButtonClick:function(){this._setNuxVisible(c("GroupsComposerNuxTypes").DRAFT,false)}.bind(this),position:"above"},j._("Novidade! Agora voc\u00ea pode salvar suas publica\u00e7\u00f5es como rascunhos e public\u00e1-las mais tarde."))})},_canSchedule:function p(){var q=this.props.config,r=q.actorConfig,s=q.attachmentsConfig;return!!r&&r.canSchedule&&!!s[this.state.selectedAttachment]&&s[this.state.selectedAttachment].canSchedule===true},_canDraft:function p(){var q=this.props.config,r=q.actorConfig,s=q.attachmentsConfig;return!!r&&r.canDraft&&!!s[this.state.selectedAttachment]&&s[this.state.selectedAttachment].canDraft===true},_shouldSeeScheduleNux:function p(){return this._canSchedule()&&this.props.config.actorConfig.shouldShowScheduleNux},_shouldSeeDraftNux:function p(){return this._canDraft()&&this.props.config.actorConfig.shouldShowDraftNux},_isMediaAttachment:function p(){return this.state.mediaUploads.size>0&&(this.state.selectedAttachment===c("ReactComposerAttachmentType").MEDIA||this.state.selectedAttachment===c("ReactComposerAttachmentType").TASK)},_getScheduleButton:function p(){if(!this._canSchedule())return null;var q=this._canDraft(),r=q?j._("Publique mais tarde"):j._("Programar publica\u00e7\u00e3o"),s=c("React").createElement(c("XUIButton.react"),{className:"_603_",disabled:this.state.disabled,ref:"schedule_button",onClick:function(){this._hideNuxes();if(!this._canDraft())this.setState({isSchedulePostDialogShown:true})}.bind(this),image:q?c("React").createElement(c("Image.react"),{src:h("115692")}):c("React").createElement(c("Image.react"),{src:h("122644")}),label:r,labelIsHidden:true,size:"medium",use:q?"confirm":"default"});if(q)return c("React").createElement(c("PopoverMenu.react"),{className:"_161m",menu:this._renderMenu(),alignh:"right",alignv:"middle",layerBehaviors:[c("ContextualDialogArrow")],position:"below",ref:"schedule_menu",disabled:this.state.disabled},s);else return c("React").createElement(c("TooltipLink.react"),{className:"_6040",tooltip:this.state.showScheduleNux||this.state.showDraftNux?null:r,alignH:"right"},s)},_renderMenu:function p(){return c("React").createElement(c("ReactXUIMenu"),null,c("React").createElement(m,{onclick:function(){return this.setState({isSchedulePostDialogShown:true})}.bind(this)},j._("Programar publica\u00e7\u00e3o")),c("React").createElement(m,{onclick:this._onDraftSelected},j._("Salvar como rascunho")))},_renderScheduleDialog:function p(){if(!this.state.isSchedulePostDialogShown)return null;!!this.props.config.actorConfig||k(0);var q=this.props.config.actorConfig,r=q.timezoneStr,s=q.timezoneOffset,t=q.minScheduledTimeDelta,u=q.maxScheduledTimeDelta,v=q.defaultScheduledTimeDelta,w=q.enableScheduleTimeTemplates,x=q.suggestedScheduleTimesInSec;return c("React").createElement(c("BootloadedComponent.react"),{bootloadLoader:w?c("JSResource")("GroupPostAdvancedScheduleDialog.react").__setRef("ReactComposerGroupPostButtonContainer.react"):c("JSResource")("PostSimpleScheduleDialog.react").__setRef("ReactComposerGroupPostButtonContainer.react"),bootloadPlaceholder:c("React").createElement(c("LoadingDialog.react"),null),onToggle:function(y){return this.setState({isSchedulePostDialogShown:y})}.bind(this),timezoneStr:r,timezoneOffset:s,onSubmit:this._onScheduledTimeSelected,minScheduledTimeDelta:t,maxScheduledTimeDelta:u,defaultScheduledTimeDelta:v,suggestedScheduleTimesInSec:x})},_onScheduledTimeSelected:function p(q){c("GroupsComposerActions").schedule(this.context.composerID,q);this._onClick()},_onDraftSelected:function p(){c("GroupsComposerActions").draft(this.context.composerID);this._onClick()},_onClick:function p(){c("ReactComposerActions").postStarted(this.context.composerID,{actorID:this.context.actorID,composerType:this.context.composerType,config:this.props.config,targetID:this.context.targetID})},_initializeNuxes:function p(){if(this._shouldSeeScheduleNux()){this._setNuxVisible(c("GroupsComposerNuxTypes").SCHEDULE,true);this._setNuxVisible(c("GroupsComposerNuxTypes").DRAFT,false)}else if(this._shouldSeeDraftNux()){this._setNuxVisible(c("GroupsComposerNuxTypes").SCHEDULE,false);this._setNuxVisible(c("GroupsComposerNuxTypes").DRAFT,true)}else this._hideNuxes()},_hideNuxes:function p(){this._setNuxVisible(c("GroupsComposerNuxTypes").SCHEDULE,false);this._setNuxVisible(c("GroupsComposerNuxTypes").DRAFT,false)},_setNuxVisible:function p(q,r){c("GroupsComposerActions").setNuxVisible(this.context.composerID,q,r)},_shouldAttemptSellIntercept:function p(){var q=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];return q.attemptIntercept},_shouldAttemptJobsIntercept:function p(){var q=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS],r=c("ReactComposerScrapedAttachmentStore").hasAttachment(this.context.composerID);return q.attemptJobsIntercept&&!r},_shouldAttemptMarkdownIntercept:function p(){var q=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];return q.attemptMarkdownIntercept},_showSellIntercept:function p(){var q=this.props.config.attachmentsConfig[c("ReactComposerAttachmentType").STATUS];return q.sellIntercept},_onClickPreprocess:function p(){var q=this.context.composerID,r=this.context.targetID;return this._performInterceptAttempt(q,r)}});f.exports=o}),null);