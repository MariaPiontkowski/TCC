if (self.CavalryLogger) { CavalryLogger.start_js(["7E6h\/"]); }

__d("ComposerCitySharer",["Arbiter","ArbiterMixin","AsyncRequest","CSS","DOM","Event","Parent","mixin"],(function a(b,c,d,e,f,g){var h,i,j={};h=babelHelpers.inherits(k,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function k(l){"use strict";i.constructor.call(this);this.root=l}k.prototype.init=function(l,m,n,o,p){"use strict";this.cityLink=l;this.closeButton=m;this.input=n;this.disableShareInput=o;this._options=p;this.cityName=c("DOM").find(this.cityLink,".cityName");this.data={};c("Event").listen(this.closeButton,"click",function(){this.clearCity();this.disableShareInput.value="true"}.bind(this));j[this.root]=this;this.inform("init",null,c("Arbiter").BEHAVIOR_PERSISTENT)};k.prototype.changeCity=function(l,m,n){"use strict";this.setCityId(l,m,n);this.toggleLocationSharing(l,m,n,false)};k.prototype.setCityId=function(l,m,n){"use strict";if(m){this.data={city_name:l,city_page_id:m,city_id:n};this.input.value=m;var o=l.lastIndexOf(",");if(o!=-1)l=l.substring(0,o);var p=l;c("DOM").setContent(this.cityName,p);c("CSS").addClass(this.root,"ComposerCitySharerCitySelected");c("CSS").conditionShow(this.closeButton,!this._placeSelected);this.inform("change",this.data,c("Arbiter").BEHAVIOR_PERSISTENT)}};k.prototype.toggleLocationSharing=function(l,m,n,o){"use strict";if(m)new(c("AsyncRequest"))().setURI("/ajax/places/toggle_location_sharing").setData({city_id:n,city_page_id:m,city_name:l,is_default:o,session_id:this._options.session_id}).send()};k.prototype.setDefaultCity=function(l,m,n){"use strict";this._defaultCityData=[l,m,n]};k.prototype.useDefaultCity=function(){"use strict";if(this._defaultCityData){var l=this._defaultCityData[0],m=this._defaultCityData[1],n=this._defaultCityData[2];this.setCityId(l,m,n);this.toggleLocationSharing(l,m,n,true)}};k.prototype.addPlace=function(l){"use strict";if(l.city_id)this.changeCity(l.city_name,l.city_page_id,l.city_id);else this.clearCity();this._placeSelected=true;c("CSS").addClass(this.cityLink,"placeIconSelected");c("CSS").hide(this.closeButton)};k.prototype.clearPlace=function(l){"use strict";this._placeSelected=false;c("CSS").removeClass(this.cityLink,"placeIconSelected");c("CSS").conditionShow(this.closeButton,this.getValue())};k.prototype.clearCity=function(){"use strict";this.data={};this.input.value="";c("DOM").setContent(this.cityName,"");c("CSS").removeClass(this.root,"ComposerCitySharerCitySelected");c("CSS").hide(this.closeButton);this.inform("change",null,c("Arbiter").BEHAVIOR_PERSISTENT)};k.prototype.getIcon=function(){"use strict";return this.root};k.prototype.getValue=function(){"use strict";return this.input.value};k.getInstance=function(l){"use strict";var m=c("Parent").byClass(l,"ComposerCitySharer");return m&&j[m]};f.exports=k}),null);
__d("ContextualBlind",["cx","Event","Animation","Arbiter","DOM","Rect","Vector","$","joinClasses","shield"],(function a(b,c,d,e,f,g,h){var i=0,j=1,k=.8,l=500;m.prototype.$ContextualBlind7=function(){"use strict";this.$ContextualBlind1&&c("Arbiter").unsubscribe(this.$ContextualBlind1);this.$ContextualBlind1=null;this.$ContextualBlind2=[];this.$ContextualBlind3&&this.$ContextualBlind3.remove();this.$ContextualBlind3=null;this.$ContextualBlind4&&c("DOM").remove(this.$ContextualBlind4);this.$ContextualBlind5=false};m.prototype.show=function(n,o,p,q,r,s,t,u,v,w){"use strict";if(this.$ContextualBlind6)return;this.$ContextualBlind6=true;if(t==null)t=k;u=u||i;this.hide();w=c("joinClasses")((u===i?"_2xgb":"")+(u!==i?" _2xgc":""),w);for(var x=0;x<4;x++)this.$ContextualBlind2.push(c("DOM").create("div",{className:w,style:"opacity:"+t}));c("DOM").appendContent(document.body,this.$ContextualBlind2);if(s!==false){w=u===i?"_2xgd":"_2xge";this.$ContextualBlind4=c("DOM").create("div",{className:w});c("DOM").appendContent(document.body,this.$ContextualBlind4)}var y=c("shield")(this.updatePosition,this,n,o,p,q,r,v);y();this.$ContextualBlind1=c("Arbiter").subscribe("reflow",y);this.$ContextualBlind3=c("Event").listen(window,"resize",y);this.$ContextualBlind5=true;this.$ContextualBlind6=false};m.prototype.fadeIn=function(n,o,p,q,r,s,t,u,v,w,x){"use strict";u=u||l;if(t==null)t=k;this.show(n,o,p,q,r,s,0,v==null?i:v,w,x);for(var y=0;y<this.$ContextualBlind2.length;y++){var z=this.$ContextualBlind2[y];new(c("Animation"))(z).duration(u).from("opacity",0).to("opacity",t).go()}};m.prototype.hide=function(){"use strict";this.$ContextualBlind2&&this.$ContextualBlind2.forEach(c("DOM").remove);this.$ContextualBlind7()};m.prototype.fadeOut=function(n){var o=arguments.length<=1||arguments[1]===undefined?l:arguments[1];"use strict";if(!this.$ContextualBlind2)return;if(n==null)n=k;for(var p=0;p<this.$ContextualBlind2.length;p++){var q=this.$ContextualBlind2[p];new(c("Animation"))(q).duration(o).from("opacity",n).to("opacity",0).ondone(c("DOM").remove.bind(null,q)).go()}this.$ContextualBlind7()};m.prototype.$ContextualBlind8=function(n,o){"use strict";o.getPositionVector().setElementPosition(n);o.getDimensionVector().setElementDimensions(n)};m.prototype.updatePosition=function(n,o,p,q,r,s){"use strict";var t=c("Vector").getDocumentDimensions().y,u=c("Rect").getElementBounds(c("$")(n));u=new(c("Rect"))(u.t-(o||0),u.r+(p||0),u.b+(q||0),u.l-(r||0),u.domain);var v=document,w=v&&v.documentElement&&v.documentElement.scrollWidth||v&&v.body&&v.body.scrollWidth||0;this.$ContextualBlind8(this.$ContextualBlind2[0],new(c("Rect"))(s?s+window.scrollY:0,w,u.t,0,"document"));this.$ContextualBlind8(this.$ContextualBlind2[1],new(c("Rect"))(u.t,w,u.b,u.r,"document"));this.$ContextualBlind8(this.$ContextualBlind2[2],new(c("Rect"))(u.b,w,t,0,"document"));this.$ContextualBlind8(this.$ContextualBlind2[3],new(c("Rect"))(u.t,u.l,u.b,0,"document"));if(this.$ContextualBlind4)this.$ContextualBlind8(this.$ContextualBlind4,u)};function m(){"use strict"}m.STYLE_LIGHT=i;m.STYLE_DARK=j;f.exports=m}),null);
__d("ContextualBlindSingleton",["ContextualBlind"],(function a(b,c,d,e,f,g){f.exports=new(c("ContextualBlind"))()}),null);
__d("ContextualLayerBlind",["cx","ContextualBlind","CSS"],(function a(b,c,d,e,f,g,h){var i={isModal:false,opacity:.3,paddingTop:8,paddingRight:8,paddingBottom:8,paddingLeft:8,style:c("ContextualBlind").STYLE_DARK,fadeDuration:0,marginTop:0,className:null},j=250;function k(l,m){"use strict";m=babelHelpers["extends"]({},i,m);this.$ContextualLayerBlind4=m.isModal;this.$ContextualLayerBlind2=l;this.$ContextualLayerBlind5=m.opacity;this.$ContextualLayerBlind6=m.paddingTop;this.$ContextualLayerBlind7=m.paddingRight;this.$ContextualLayerBlind8=m.paddingBottom;this.$ContextualLayerBlind9=m.paddingLeft;this.$ContextualLayerBlind10=m.style;this.$ContextualLayerBlind11=m.fadeDuration;this.$ContextualLayerBlind12=m.marginTop;this.$ContextualLayerBlind13=m.className}k.prototype.enable=function(){"use strict";this.$ContextualLayerBlind3=[this.$ContextualLayerBlind2.subscribe(["show","reposition"],this.$ContextualLayerBlind14.bind(this)),this.$ContextualLayerBlind2.subscribe("hide",this.$ContextualLayerBlind15.bind(this))];c("CSS").addClass(this.$ContextualLayerBlind2.getRoot(),"_4746");this.$ContextualLayerBlind1=new(c("ContextualBlind"))()};k.prototype.disable=function(){"use strict";this.$ContextualLayerBlind15();c("CSS").removeClass(this.$ContextualLayerBlind2.getRoot(),"_4746");while(this.$ContextualLayerBlind3.length)this.$ContextualLayerBlind3.pop().unsubscribe();this.$ContextualLayerBlind3=null;this.$ContextualLayerBlind1=null};k.prototype.$ContextualLayerBlind14=function(){"use strict";if(this.$ContextualLayerBlind2.isShown()){var l=this.$ContextualLayerBlind2.getContext();if(this.$ContextualLayerBlind11>0)this.$ContextualLayerBlind1.fadeIn(l,this.$ContextualLayerBlind6,this.$ContextualLayerBlind7,this.$ContextualLayerBlind8,this.$ContextualLayerBlind9,this.$ContextualLayerBlind4,this.$ContextualLayerBlind5,this.$ContextualLayerBlind11,this.$ContextualLayerBlind10,this.$ContextualLayerBlind12,this.$ContextualLayerBlind13);else this.$ContextualLayerBlind1.show(l,this.$ContextualLayerBlind6,this.$ContextualLayerBlind7,this.$ContextualLayerBlind8,this.$ContextualLayerBlind9,this.$ContextualLayerBlind4,this.$ContextualLayerBlind5,this.$ContextualLayerBlind10,this.$ContextualLayerBlind12,this.$ContextualLayerBlind13)}};k.prototype.$ContextualLayerBlind15=function(){"use strict";if(this.$ContextualLayerBlind11>0)this.$ContextualLayerBlind1.fadeOut(this.$ContextualLayerBlind5,this.$ContextualLayerBlind11);else this.$ContextualLayerBlind1.hide()};k.withFade=function(){var l=arguments.length<=0||arguments[0]===undefined?j:arguments[0],m=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];"use strict";return function(){var n,o;n=babelHelpers.inherits(p,k);o=n&&n.prototype;function p(q,r){"use strict";o.constructor.call(this,q,babelHelpers["extends"]({},r,{fadeDuration:l},m))}return p}()};f.exports=k}),null);
__d("XSavedForLaterNUXSeenController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/saved/nuxseen/",{action:{type:"Enum",enumType:1},surface:{type:"Enum",enumType:1},mechanism:{type:"Enum",enumType:1},collection_id:{type:"Enum",enumType:0},object_id:{type:"Int"},interaction_time:{type:"Int"}})}),null);
__d("OnlyMeSharerSaveNux.react",["cx","fbt","AsyncRequest","Banzai","ContextualLayerBlind","CSS","DataStore","DOM","DOMScroll","Keys","Link.react","Parent","React","ShareModeConst","URI","XSavedForLaterNUXSeenController","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIContextualDialogTitle.react","XUIDialogButton.react","guid"],(function a(b,c,d,e,f,g,h,i){var j,k,l=c("React").PropTypes,m=null,n=null,o="OnlyMeSharerSaveNux_instance",p="OnlyMeSharerSaveNux_caretMenuLoaded",q="_5jmm",r="_54ne",s="impression",t="saved_for_later:click",u="only_me_sharer_nux",v="learn_more_link",w="only_me_sharer_nux",x="caret",y="dismiss_button",z="esc_button",A={paddingTop:0,paddingRight:0,paddingBottom:5,paddingLeft:7};j=babelHelpers.inherits(B,c("React").Component);k=j&&j.prototype;function B(){var C,D;"use strict";for(var E=arguments.length,F=Array(E),G=0;G<E;G++)F[G]=arguments[G];return D=(C=k.constructor).call.apply(C,[this].concat(F)),this.state={isShown:true},this.$OnlyMeSharerSaveNux2=function(H){var I,J;I=babelHelpers.inherits(K,c("ContextualLayerBlind"));J=I&&I.prototype;function K(L){"use strict";J.constructor.call(this,L,H)}return K},this.$OnlyMeSharerSaveNux3=function(){if(this.props.shareType===c("ShareModeConst").SELF_POST||this.props.shareType==="own")return i._("Compartilhamento bem-sucedido");else return i._("Mensagem enviada")}.bind(this),this.$OnlyMeSharerSaveNux1=function(event){var H=document.getElementById(this.props.storyContainerId);if(!H)return;var I=c("Parent").byClass(H,q);if(I&&c("DataStore").get(I,p)===true)setTimeout(function(){var J=c("DOM").scry(document,"li.save_caret_menu_item");for(var K=0;K<J.length;K++){var L=J[K],M=c("Parent").byClass(L,"uiLayer");if(M&&c("CSS").shown(M)){c("CSS").addClass(L,r);var N=c("DataStore").get(I,o);N.$OnlyMeSharerSaveNux4(x);var O=c("DataStore").get(n,"Popover");O&&O.subscribeOnce("hide",function(){c("CSS").removeClass(L,r)});break}}},0)}.bind(this),this.$OnlyMeSharerSaveNux5=function(event){if(event.keyCode===c("Keys").ESC&&this.state.isShown){document.removeEventListener("keyup",this.$OnlyMeSharerSaveNux5);this.$OnlyMeSharerSaveNux4(z)}}.bind(this),this.$OnlyMeSharerSaveNux6=function(){this.$OnlyMeSharerSaveNux4(y)}.bind(this),this.$OnlyMeSharerSaveNux7=function(){c("Banzai").post(t,{og_object_id:this.props.objectId,collection_id:this.props.collectionId,surface:u,mechanism:v,event_id:c("guid")()},{retry:true,delay:0})}.bind(this),this.$OnlyMeSharerSaveNux4=function(H){this.setState({isShown:false});c("Banzai").post(t,{og_object_id:this.props.objectId,collection_id:this.props.collectionId,surface:u,mechanism:H,event_id:c("guid")()},{retry:true,delay:0})}.bind(this),this.$OnlyMeSharerSaveNux8=function(H){if(n!==null&&!H)n.removeEventListener("click",this.$OnlyMeSharerSaveNux1);if(this.props.wrapper!=null){var I=c("Parent").byClass(this.props.wrapper,"uiLayer");if(I)c("CSS").hide(I)}}.bind(this),D}B.saveOptionLoaded=function(C){"use strict";var D=document.getElementById(C);if(D!=null){var E=c("Parent").byClass(D,q);if(E){c("DataStore").set(E,p,true);var F=c("DataStore").get(E,o);if(F&&F.state.isShown)F.$OnlyMeSharerSaveNux1()}}};B.prototype.componentWillMount=function(){"use strict";m=this.$OnlyMeSharerSaveNux2(babelHelpers["extends"]({},A));n=document.getElementById(this.props.caretId)};B.prototype.componentDidMount=function(){"use strict";var C=document.getElementById(this.props.storyContainerId);if(C){var D=c("Parent").byClass(C,q);if(D)c("DataStore").set(D,o,this)}n&&n.addEventListener("click",this.$OnlyMeSharerSaveNux1);document.addEventListener("keyup",this.$OnlyMeSharerSaveNux5);setTimeout(function(){c("DOMScroll").ensureVisible(n)},500);var E=c("XSavedForLaterNUXSeenController").getURIBuilder().setEnum("surface","story").setEnum("mechanism",w).setInt("collection_id",this.props.collectionId).setInt("object_id",this.props.objectId).setEnum("action",s).getURI(),F=new(c("AsyncRequest"))(E);F.send()};B.prototype.render=function(){"use strict";return c("React").createElement(c("XUIContextualDialog.react"),{shown:this.state.isShown,contextRef:function C(){return n},position:"below",alignment:"right",behaviors:{grayedOutLayer:m},width:400,offsetX:-3,onToggle:this.$OnlyMeSharerSaveNux8},c("React").createElement(c("XUIContextualDialogTitle.react"),null,this.$OnlyMeSharerSaveNux3()),c("React").createElement(c("XUIContextualDialogBody.react"),null,i._("Quer um jeito mais r\u00e1pido de salvar publica\u00e7\u00f5es de forma privada? Abra este menu suspenso e clique em Salvar.")),c("React").createElement(c("XUIContextualDialogFooter.react"),null,c("React").createElement(c("Link.react"),{className:"_222f",href:new(c("URI"))("/help/516581611792218"),target:"_blank",onClick:this.$OnlyMeSharerSaveNux7},i._("Saiba mais")),c("React").createElement(c("XUIDialogButton.react"),{label:i._("Entendi"),use:"confirm",action:"cancel",onClick:this.$OnlyMeSharerSaveNux6})))};B.propTypes={caretId:l.string.isRequired,storyContainerId:l.string.isRequired,wrapper:l.any,collectionId:l.number.isRequired,objectId:l.number,shareType:l.string.isRequired};f.exports=B}),null);
__d("TimelineInHouseAppCollections",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({FRIENDS_RECENT:1,FRIENDS_ALL:2,FRIENDS_MUTUAL:3,PHOTOS_OF:4,PHOTOS_ALL:5,PHOTOS_ALBUMS:6,LIKES_RECENT:7,INFO_ALL:8,MUSIC_MY_MUSIC:9,MUSIC_FAVS:10,MUSIC_PLAYLISTS:11,BOOKS_READ:14,BOOKS_FAVORITE:15,BOOKS_WANT:16,RECENT_PLACES:17,FITNESS_OVERVIEW:20,PLACES_WANT:27,INFO_CONTACT:29,FITNESS_RUNNING:30,FITNESS_CYCLING:31,FRIENDS_FOLLOWERS:32,FRIENDS_FOLLOWING:33,MUSIC_RADIO:34,INFO_HISTORY:35,RECENT_GAMES:36,PRODUCTS_WANT:37,PHOTOS_ARCHIVE:38,NOTES_MY_NOTES:39,NOTES_DRAFTS:40,NOTES_ABOUT_ME:41,VIDEO_MOVIES_WATCH:46,VIDEO_TV_SHOWS_WATCH:47,MUSIC_SAVED:49,VIDEO_MOVIES_WANT:50,VIDEO_TV_SHOWS_WANT:51,VIDEO_MOVIES_FAVORITE:52,VIDEO_TV_SHOWS_FAVORITE:53,FRIENDS_HIGH_SCHOOL:54,FRIENDS_COLLEGE:55,FRIENDS_WORK:56,FRIENDS_SUGGESTED:57,APPS_LIKE:58,UPCOMING_EVENTS:59,PAST_EVENTS:60,LIKES_PEOPLE:61,LIKES_SPORTS:62,FITNESS_REPORT:65,GROUPS_MEMBER:66,MUSIC_HEAVY_ROTATION:68,PHOTOS_ALBUM:69,LIKES_RESTAURANTS:73,LIKES_CLOTHING:77,INFO_INSIGHTS:78,APPS_USED:79,GAMES_PLAY:80,GAMES_APPS_SAVED:81,VIDEO_MOVIES_SUGGESTIONS:83,VIDEO_TV_SHOWS_SUGGESTIONS:84,BOOKS_SUGGESTIONS:85,SAVED_BOOKS:87,SAVED_MOVIES:88,SAVED_TV_SHOWS:89,SAVED_MUSIC:90,PLACES_SAVED:91,SAVED_LINKS:92,SPORTS_TEAMS:95,LIKES_ALL:96,SAVED_PLACES:97,SAVED_ALL:98,SPORTS_ATHLETES:99,SPORTS_ACTIVITIES:100,SAVED_EVENTS:101,SAVED_ARCHIVED:102,PLACES_RECENT:103,PLACES_VISITED:104,REVIEWS_WRITTEN:105,LIKES_SECTION_MOVIES:106,LIKES_SECTION_TV_SHOWS:107,LIKES_SECTION_BOOKS:108,LIKES_SECTION_MUSIC:109,LIKES_SECTION_SPORTS_TEAMS:110,PLACE_VISITS_BY_PLACE_TAG:111,PLACES_CITIES:112,PLACE_VISITS_BY_CITY:113,TOPIC_VISIT_COUNTS:114,PLACE_VISITS_BY_TOPIC:115,PLACE_VISIT_STORIES:116,PLACES_MAP:117,LIKES_SECTION_APPS_AND_GAMES:118,LIKES_SECTION_SPORTS_ATHLETES:119,PLACES_CITIES_DESKTOP:120,SAVED_VIDEOS:121,SAVED_PAGES:122,FRIENDS_WITH_UPCOMING_BIRTHDAYS:123,FRIENDS_CURRENT_CITY:124,FRIENDS_HOMETOWN:125,AT_WORK_CONTACT:127,PLACE_REVIEWS_WRITTEN:128,MOVIE_REVIEWS_WRITTEN:129,TV_SHOW_REVIEWS_WRITTEN:130,BOOK_REVIEWS_WRITTEN:131,PHOTOS_ALL_EXPANDED:132,VIDEOS_BY_USER:133,VIDEOS_USER_TAGGED:134,FRIENDS_MAP:136,VIDEOS_USER_ALL:137,SAVED_POSTS:138,SAVED_PHOTO_POSTS:139,SAVED_PRODUCTS:140,AT_WORK_HR_INFO:141,FRIENDS_WITH_UNSEEN_POSTS:142,GROUPS_MUTUAL:143,SAVED_PROFILES:144,WORK_FOLLOWERS:149,WORK_FOLLOWING:150,SAVED_MESSAGES:151,SAVED_LISTS:152,SAVED_FUNDRAISERS:153,VIDEO_PLAYLISTS:154,SAVED_JOBS:155,LISTS:156,LIST_CONTENTS:157,SAVED_GROUP_POSTS:158,SAVED_OFFERS:159,ALBUMS_ALL:160,ALBUMS_FEATURED:161,TASKS_CREATED:162,TASKS_ASSIGNED:163,FUN_FACT_ANSWERS:164,SHARING_SPACES:165,SHARING_SPACES_USER_SPACE:166,SAVED_ASSET3DS:167,SHARING_SPACES_USER_SPACE_FOLLOWERS:168,UNKNOWN_DO_NOT_USE_THIS:0})}),null);
__d("SavedForLaterChromeExtensionInstallLink",["Event","Banzai","TimelineInHouseAppCollections","tidyEvent","guid"],(function a(b,c,d,e,f,g){var h="chrome_extension_install_link",i="saved_for_later:click",j="https://chrome.google.com/webstore/detail/",k="jmfikkaogpplgnfjmbjdpalkhclendgd";function l(m,n){"use strict";var o=document.createElement("link");o.rel="chrome-webstore-item";o.href=j+k;document.head.appendChild(o);c("tidyEvent")(c("Event").listen(m,"click",function(p){c("Banzai").post(i,{collection_id:c("TimelineInHouseAppCollections").SAVED_ALL,surface:n,mechanism:h,event_id:c("guid")()},{delay:0,retry:true});window.chrome&&window.chrome.webstore&&window.chrome.webstore.install()}))}f.exports=l}),null);
__d("SavedForLaterChromeExtensionToastNux",["DataStore","AsyncRequest","XSavedForLaterNUXSeenController","SavedForLaterChromeExtensionInstallLink","TimelineInHouseAppCollections"],(function a(b,c,d,e,f,g){var h="impression",i="story",j="chrome_extension_toast_nux",k="SavedForLaterChromeExtensionToastNux";function l(m,n){"use strict";c("DataStore").set(m,k,this);this.installInstance=new(c("SavedForLaterChromeExtensionInstallLink"))(n,i)}l.onDisplay=function(m){"use strict";var n=c("DataStore").get(m,k);if(!n)return;new(c("AsyncRequest"))(c("XSavedForLaterNUXSeenController").getURIBuilder().setEnum("action",h).setEnum("surface",i).setEnum("mechanism",j).setInt("collection_id",c("TimelineInHouseAppCollections").SAVED_ALL).getURI()).setMethod("POST").send()};f.exports=l}),null);
__d("SaveCaretMenuItem",["csx","cx","Banzai","CSS","DOM","DOMQuery","EntstreamFeedObject","EntstreamFeedObjectFollowup","Event","MenuItem","SaveState","SaveStateHandler","SavedForLaterChromeExtensionToastNux","ge"],(function a(b,c,d,e,f,g,h,i){var j,k,l="saved_for_later:caret_action",m="imp",n="._22la";j=babelHelpers.inherits(o,c("MenuItem"));k=j&&j.prototype;function o(p){"use strict";k.constructor.call(this,p);this._data=this._updateData();this.getRoot();c("Event").listen(this._anchor,"error",this.handleError.bind(this));c("SaveStateHandler").listen(p.primarysaveid,function(q){this._data=this._updateData();this._doRender(q)}.bind(this))}o.prototype.handleClick=function(){"use strict";var p=k.handleClick.call(this),q=c("EntstreamFeedObject").getRoot(c("ge")(this._data.storydomid));if(this._data.isSaveAction){c("SaveStateHandler").saving(this._data.allsaveids);var r=this._data.savefollowupmarkup;if(this._data.chromeextensionnuxmarkup.hasChildNodes()){r=this._data.chromeextensionnuxmarkup;c("SavedForLaterChromeExtensionToastNux").onDisplay(r)}if(q){var s=c("DOM").scry(q,"._5va1");if(s&&s.length>0){var t=s[0];if(t)q=t}c("EntstreamFeedObjectFollowup").addFollowup(q,r,["_521o","_4-u3","_3yll"]);var u=c("DOMQuery").scry(q,n);if(u.length>0){var v=new CustomEvent("savedShow");u[0].dispatchEvent(v)}}}else{c("SaveStateHandler").unsaving(this._data.allsaveids);var w=c("EntstreamFeedObjectFollowup").getFollowup(q);w&&c("EntstreamFeedObjectFollowup").removeFollowup(q)}return p};o.prototype.handleError=function(){"use strict";if(this._data.isSaveAction)c("SaveStateHandler").saved(this._data.allsaveids);else c("SaveStateHandler").unsaved(this._data.allsaveids)};o.prototype._updateData=function(){"use strict";var p=babelHelpers["extends"]({},this._data);p.isSaveAction=c("SaveStateHandler").isSaveAction(p.primarysaveid);if(p.isSaveAction){p.markup=p.savemarkup;p.ajaxify=p.saveajaxify;p.title=p.savetitle}else{p.markup=p.unsavemarkup;p.ajaxify=p.unsaveajaxify;p.title=p.unsavetitle}return p};o.prototype._doRender=function(p){"use strict";if(!this._root)return;switch(p){case c("SaveState").SAVING:case c("SaveState").UNSAVING:c("CSS").addClass(this._root,"_5arm");setTimeout(this.disable.bind(this),10);break;case c("SaveState").SAVED:case c("SaveState").UNSAVED:c("CSS").removeClass(this._root,"_5arm");setTimeout(this.enable.bind(this),10);break}c("DOM").replace(this._anchor,this._renderItemContent());c("Event").listen(this._anchor,"error",this.handleError.bind(this))};o.prototype.onShow=function(){"use strict";var p=this._data.logdata;c("Banzai").post(l,{action:m,surface:p.surface,story_id:p.story_id,is_save:this._data.isSaveAction})};f.exports=o}),null);
__d("TourAutoPilot",["ContextualBlindSingleton","DOMScroll","Tour"],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c("Tour"));i=h&&h.prototype;j.prototype.registerStep=function(k,l){"use strict";k.subscribe("tour-dialog-show",this.handleShowDialog.bind(this,k,l));i.registerStep.call(this,k,l)};j.prototype.handleLeavePage=function(){"use strict";this.openDialog&&this.openDialog.destroy();this.hideContextualBlind();i.handleLeavePage.call(this)};j.prototype.handleShowDialog=function(k,l){"use strict";var m=k.getContext();this.showContextualBlind(m,true);c("DOMScroll").scrollTo(m,true,true,0)};j.prototype.handleTourStop=function(){"use strict";this.hideContextualBlind(true);i.handleTourStop.call(this)};j.prototype.showContextualBlind=function(k,l){"use strict";if(this.blindShowing)c("ContextualBlindSingleton").show(k,0,0,0,0,l,this.opacity);else c("ContextualBlindSingleton").fadeIn(k,0,0,0,0,l,this.opacity);this.blindShowing=true};j.prototype.hideContextualBlind=function(k){"use strict";if(k)c("ContextualBlindSingleton").fadeOut();else c("ContextualBlindSingleton").hide();this.blindShowing=false};function j(){"use strict";h.apply(this,arguments)}Object.assign(j.prototype,{blindShowing:false,opacity:null});g.TourAutoPilot=j}),null);
__d("ComposerTour",["Arbiter","AsyncRequest","ComposerCitySharer","CSS","DOM","Parent","Tour","URI","$","TourAutoPilot"],(function a(b,c,d,e,f,g){var h,i,j=c("TourAutoPilot").TourAutoPilot;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.prototype.handleShowDialog=function(l,m){"use strict";var n=c("Parent").byClass(c("$")("composerTourStart"),"uiComposer");if(m!="start"){i.handleShowDialog.call(this,l,m);this.showContextualBlind(n)}};k.prototype.showContextualBlind=function(l){"use strict";c("CSS").addClass(document.body,"composerTourInProgress");i.showContextualBlind.call(this,l)};k.prototype.hideContextualBlind=function(l){"use strict";i.hideContextualBlind.call(this,l);c("CSS").removeClass(document.body,"composerTourInProgress")};k.openComposer=function(){"use strict";var l=c("Parent").byClass(c("$")("composerTourStart"),"uiComposerAttachment"),m=c("Parent").byTag(l,"form");m.action=l.getAttribute("data-endpoint");m.xhpc.value=l.id;m.xhpc.click()};k.closeOnComposerReset=function(){"use strict";c("Arbiter").subscribe("composer/reset",function(){c("Tour").getInstance().setTourStop()})};k.sendLocationOption=function(l,m){"use strict";var n=new(c("URI"))(m).addQueryData({use_location:l});new(c("AsyncRequest"))(n.toString()).send()};k.addCity=function(){"use strict";var l=c("Parent").byClass(c("$")("composerTourLocation"),"uiComposer"),m=c("ComposerCitySharer").getInstance(c("DOM").scry(l,"span.ComposerCitySharer")[0]);m&&m.useDefaultCity()};k.clearCity=function(){"use strict";var l=c("Parent").byClass(c("$")("composerTourLocation"),"uiComposer"),m=c("ComposerCitySharer").getInstance(c("DOM").scry(l,"span.ComposerCitySharer")[0]);m&&m.clearCity()};k.hideStartDialog=function(){"use strict";var l=c("Tour").getInstance().steps.start;l&&l.hide()};function k(){"use strict";h.apply(this,arguments)}f.exports=k}),null);
__d("legacy:composer-tour-js",["ComposerTour"],(function a(b,c,d,e,f,g){b.ComposerTour=c("ComposerTour")}),3);