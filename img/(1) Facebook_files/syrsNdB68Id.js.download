if (self.CavalryLogger) { CavalryLogger.start_js(["EpbUf"]); }

__d("ReactComposerMediaAttachmentType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CANVAS:"CANVAS",CAROUSEL:"CAROUSEL",SLIDESHOW:"SLIDESHOW",PHOTOS:"PHOTOS",ALBUM:"ALBUM"})}),null);
__d("ComposerXPages",["Arbiter","CurrentUser","DOM","DOMScroll","URI","Event","ge","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerEvents","ReactComposerMediaAttachmentType","ReactComposerSlideshowActions","ReactComposerSlideshowLoggingStore","SlideshowEntrypoint"],(function a(b,c,d,e,f,g){var h={initScrollToComposer:function i(j){c("Event").listen(j,"click",function(){this._scrollAndFocus(c("ge")("pagelet_timeline_recent"))}.bind(this))},initScrollToComposerWithUserVoice:function i(j,k){c("Event").listen(j,"click",function(){var l=c("ge")(k);c("Arbiter").inform("ComposerXPages/composePostWithActor",{actorID:c("CurrentUser").getID(),callback:function m(){c("DOM").find(l,"textarea.input").focus()}});this._scrollAndFocus(l)}.bind(this))},scrollToComposer:function i(j){var k=window.location.href;if(c("URI").getRequestURI().getQueryData().focus_composer||c("URI").getRequestURI().getQueryData().scroll_to_composer)c("Event").listen(window,"load",function(){this._scrollAndFocus(j)}.bind(this));else if(k.indexOf("focus_composer")!=-1)this._scrollAndFocus(j)},registerForAutoClose:function i(j,k){c("Arbiter").subscribe("Pages/composeFinished",function(l,m){if(m.composerID===k){if(j)j.hide();if(m.contentID)c("Arbiter").inform("composer/publish",{content_id:m.contentID,matchData:{content_id:m.contentID}})}});c("Arbiter").subscribe(c("ReactComposerEvents").COMPOSER_RESET+k,function(l,m){this.registerForAutoClose(j,m.newComposerID)}.bind(this))},openMediaTab:function i(j,k){c("ReactComposerAttachmentActions").selectAttachment(j,c("ReactComposerAttachmentType").MEDIA,true);if(k===c("ReactComposerMediaAttachmentType").SLIDESHOW){c("ReactComposerSlideshowLoggingStore").activate();c("ReactComposerSlideshowActions").showSlideshowDialog(j,c("SlideshowEntrypoint").COMPOSER_URL_PARAMS)}},_scrollAndFocus:function i(j){c("DOMScroll").scrollTo(j,500,false,false,0,function(){c("DOM").find(j,"textarea.input").focus()})}};f.exports=h}),null);
__d("ChatTabViewEvents",["Arbiter"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("Arbiter"))()}),null);
__d("PageTimelineChainingTypeConstants",[],(function a(b,c,d,e,f,g){f.exports={FANNING:"fanning",FOLLOW:"follow",SHOW_FOLLOW:"show_follow"}}),null);
__d("ContextRowEventLogger",["Event","BanzaiLogger"],(function a(b,c,d,e,f,g){var h={registerContextRowClickAction:function i(j,k){c("Event").listen(j,"click",function(){c("BanzaiLogger").log("PageContextRowEventsLoggerConfig",k)})}};f.exports=h}),null);
__d("PagesBanzaiEventListener",["Event","PagesEventObserver","Run"],(function a(b,c,d,e,f,g){var h={registerLogEvent:function i(j,k,l){var m=c("Event").listen(j,"click",function(event){c("PagesEventObserver").logData_DEPRECATED(k,l)});c("Run").onLeave(function(){m.remove()})}};f.exports=h}),null);
__d("PagesTimelineChaining",["Arbiter","Banzai","ChatTabViewEvents","CSS","Event","PageLikeConstants","PagesFollowStore","PageTimelineChainingTypeConstants","Run","Style","SubscriptionsHandler","UIPagelet"],(function a(b,c,d,e,f,g){var h=0,i={_recentlyLikedPageIDs:{},_recentlyMessagedPageIDs:{},container:null,_subscriptions:[],_chatSubscriptions:[],_followSubscription:null,_isFollow:false,_shouldShowRelatedPagesOnBounce:false,init:function j(k,l){this.container=k;this._followSubscription=new(c("SubscriptionsHandler"))();this._isFollow=l.isFollow;this._shouldShowRelatedPagesOnBounce=l.shouldShowRelatedPagesOnBounce;c("Run").onLeave(function(){return this._unsubscribe()}.bind(this));if(!this._showChainSuggestions(l.pageID,false)){this._subscriptions=[c("Arbiter").subscribe(c("PageLikeConstants").LIKED,this.onLike.bind(this,l.pageID))];if(l.canFollow)this._followSubscription.addSubscriptions(c("PagesFollowStore").addListener(function(){var m=c("PagesFollowStore").getState();if(!(l.pageID in m))return;if(m[l.pageID]&&!this._isFollow)this._onFollow(l.pageID);this._isFollow=m[l.pageID]}.bind(this)));if(l.enableLikeCheckup)this._subscriptions.push(c("Arbiter").subscribe(c("PageLikeConstants").UNLIKED,this.onUnlike.bind(this)));if(l.onMessageEnabled)this._chatSubscriptions.push(c("ChatTabViewEvents").subscribe("chat-send-to-page",this.onMessage.bind(this,l.pageID)));if(l.shouldShowRelatedPagesOnBounce)window.addEventListener("scroll",this.onScroll.bind(this,l.pageID),false)}},onScroll:function j(k){if(document.documentElement){var l=window.pageYOffset||document.documentElement.scrollTop;if(l<=h){this._showChainSuggestions(k,true);this._unsubscribe()}h=l}},onLike:function j(k,l,m){if(m.profile_id===k&&m.target){this._recentlyLikedPageIDs[k]=true;this._showChainSuggestions(k,false);this._unsubscribe()}},_onFollow:function j(k){this._showChainFollowSuggestions(k);this._unsubscribe()},onMessage:function j(k,l,m){if(m&&m.pageID===k){this._recentlyMessagedPageIDs[k]=true;this._showMessageSuggestions(k);this._unsubscribe()}},onUnlike:function j(k,l){c("UIPagelet").loadFromEndpoint("PagesLikeCheckupPagelet",this.container,{},{displayCallback:this.displayCallback.bind(this)});this._unsubscribe()},displayCallback:function j(k){if(k)k();var l=this.container.firstChild;if(l)c("Style").set(this.container,"height",l.offsetHeight+"px")},_showChainSuggestions:function j(k,l){if(!(k in this._recentlyLikedPageIDs)&&!(this._shouldShowRelatedPagesOnBounce&&l))return false;var m=c("PageTimelineChainingTypeConstants").FANNING;c("UIPagelet").loadFromEndpoint("PagesTimelineChainingPagelet",this.container,{pageID:k,type:m},{displayCallback:this.displayCallback.bind(this)});return true},_showChainFollowSuggestions:function j(k){var l=c("PageTimelineChainingTypeConstants").FOLLOW;c("UIPagelet").loadFromEndpoint("PagesTimelineChainingPagelet",this.container,{pageID:k,type:l},{displayCallback:this.displayCallback.bind(this)});return true},_showMessageSuggestions:function j(k){if(!(k in this._recentlyMessagedPageIDs))return false;c("UIPagelet").loadFromEndpoint("PagesMessageChainingPagelet",this.container,{pageID:k},{displayCallback:this.displayCallback.bind(this)});return true},dismissCallback:function j(k,l,m){c("CSS").hide(this.container);delete this._recentlyLikedPageIDs[l];this._unsubscribe();if(m==="friend_inviter_chaining"){var n="pages_growth_general_analytical_logger",o={id:l,event:"dismiss_carousel",event_target:"friend_inviter_chaining",feature_name:"friend_inviter_chaining_investigate"};c("Banzai").post(n,o)}},attachDismissCallback:function j(k,l,m,n){c("Event").listen(k,"click",this.dismissCallback.bind(this,l,m,n))},_unsubscribe:function j(){if(this._subscriptions.length){this._subscriptions.forEach(function(k){return c("Arbiter").unsubscribe(k)});this._subscriptions=[]}if(this._chatSubscriptions.length){this._chatSubscriptions.forEach(function(k){return c("ChatTabViewEvents").unsubscribe(k)});this._chatSubscriptions=[]}this._followSubscription&&this._followSubscription.release()}};f.exports=i}),null);
__d("PagesNuxDispatcher",["ExplicitRegistrationReactDispatcher"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("ExplicitRegistrationReactDispatcher"))({strict:true})}),null);
__d("EntityPageSubNavigationLogger",["cx","Arbiter","Event","Parent","SubscriptionsHandler","XUISubNavigationLoader"],(function a(b,c,d,e,f,g,h){var i="_2yaa",j=void 0,k=null,l={subscribe:function m(event,n,o){if(!j)j=new(c("Arbiter"))();return j.subscribe(event,n,o)},register:function m(n){if(!k){k=new(c("SubscriptionsHandler"))();k.addSubscriptions(c("XUISubNavigationLoader").onLeave(function(){k&&k.release();k=null}))}k.addSubscriptions(c("Event").listen(n,"click",function(event){var o=event.target;if(o instanceof Node){var p=c("Parent").byClass(o,i);if(p)j&&j.inform("click",p.getAttribute("data-key"))}}))}};f.exports=l}),null);
__d("PagesProfileSidebarLogger",["EntityPageSubNavigationLogger","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","SubscriptionsHandler","XUISubNavigationLoader"],(function a(b,c,d,e,f,g){var h=null,i={register:function j(k){if(!h){h=new(c("SubscriptionsHandler"))();h.addSubscriptions(c("XUISubNavigationLoader").onLeave(function(){h&&h.release();h=null}))}h.addSubscriptions(c("EntityPageSubNavigationLogger").subscribe("click",function(event,l){var m=l.indexOf("tab_custom_")!==-1?{tab:"tab_custom",app_id:l.replace("tab_custom_","")}:{tab:l};c("PagesLogger").log(k,c("PagesLoggerEventEnum").CLICK,c("PagesLoggerEventTargetEnum").PAGE_TAB_BAR,null,[],m)}))}};f.exports=i}),null);
__d("PageTimelineViewportTracking",["csx","Banzai","DataAttributeUtils","DOM","TimelineViewportTrackingLogType","ViewportTracking","viewportTrackingBuilder","$"],(function a(b,c,d,e,f,g,h){"use strict";var i,j;function k(n){return{getAllStories:function o(){return c("DOM").scry(c("$")("globalContainer"),"._5pat")},getStoryID:function o(p){var q=JSON.parse(c("DataAttributeUtils").getDataFt(p));return q&&q.top_level_post_id},getDataToLog:function o(p){return JSON.parse(c("DataAttributeUtils").getDataFt(p))||{}},getStream:function o(){return c("$")("content_container")},getDataFromConfig:function o(n,p){p.isTimetrackingEnabled=true}}}i=babelHelpers.inherits(l,c("ViewportTracking"));j=i&&i.prototype;l.prototype.getTimetrackingDataToLog=function(n){var o=j.getTimetrackingDataToLog.call(this,n);o.log_type=c("TimelineViewportTrackingLogType").DURATION;return o};l.prototype.getAllStoriesFromCache=function(){return this.behavior.getAllStories()};l.prototype.sendDataToLog=function(n,o,p,q){if(!o.ft)return;var r={};if(q)r.retry=q;if(p)r.delay=2e3;c("Banzai").post("page_timeline_vpv_tracking",o,r)};l.prototype.cleanup=function(){m.clearSingleton();j.cleanup.call(this)};function l(){i.apply(this,arguments)}var m=c("viewportTrackingBuilder")(function(n){var o=new l(k(n));o.init(n);return o});m.init=m.singleton.bind(m);f.exports=m}),null);
__d("PagesPostsSearch",["cx","Arbiter","CSS","DOM","LoadingIndicator.react","React","ReactDOM","Run","SubscriptionsHandler","UIPagelet"],(function a(b,c,d,e,f,g,h){var i=100,j={searchPosts:function k(l,m,n){this._pageID=l;this._postsContainer=m;this._searchResultsContainer=n;var o=new(c("SubscriptionsHandler"))();o.addSubscriptions(c("Arbiter").subscribe("PagesTimelineSearch/search",this._handleSearchBarAction.bind(this)));c("Run").onLeave(function(){return o.release()})},_handleSearchBarAction:function k(l,m){this._query=m.query;if(this._query!=="")this._handleSearch();else this._handleClearField();setTimeout(function(){c("Arbiter").inform("PagesTimelineSearch/searchDone",{query:this._query})}.bind(this),i)},_handleSearch:function k(){c("CSS").hide(this._postsContainer);c("ReactDOM").render(c("React").createElement("div",{className:"_3x9t"},c("React").createElement(c("LoadingIndicator.react"),{color:"white",size:"large"})),this._searchResultsContainer);c("UIPagelet").loadFromEndpoint("PagePostsSearchResultsPagelet",this._searchResultsContainer,{page_id:this._pageID,search_query:this._query})},_handleClearField:function k(){c("DOM").setContent(this._searchResultsContainer,null);c("CSS").show(this._postsContainer)}};f.exports=j}),null);
__d("ReactionLogging",["DataStore","Event","MarauderLogger"],(function a(b,c,d,e,f,g){var h="reaction_logging";function i(k,l,m){c("DataStore").set(k,h,l);if(m)c("Event").listen(k,"click",function(){j(k)})}function j(k){var l=c("DataStore").get(k,h);if(!l||!l.logging_data)return;l=l.logging_data;c("MarauderLogger").log("reaction_unit_interaction","guide_cards_null_state",l)}f.exports={startLogTracking:i}}),null);
__d("MorePagerFetchOnScroll",["AsyncRequest","DOMQuery","Event","Style","Vector","throttle"],(function a(b,c,d,e,f,g){var h={};function i(j,k,l){"use strict";this._pager=j;this._offset=k||0;this._hasEventHandlers=false;if(l)this.setup();h[j.id]=this}i.prototype.setup=function(){"use strict";this._scrollParent=c("Style").getScrollParent(this._pager);this.setPagerInViewHandler(this._defaultPagerInViewHandler.bind(this));if(!this.check()){this._scrollListener=c("Event").listen(this._scrollParent,"scroll",c("throttle")(function(){this.check()}.bind(this),50));this._clickListener=c("Event").listen(this._scrollParent,"click",c("throttle")(function(){this.check()}.bind(this),50));this._hasEventHandlers=true}};i.prototype.check=function(){"use strict";if(!c("DOMQuery").contains(document.body,this._pager)){this.removeEventListeners();return true}var j=c("Vector").getElementPosition(this._pager).y,k=this._scrollParent===window?c("Vector").getViewportDimensions().y:c("Vector").getElementDimensions(this._scrollParent).y,l=this._scrollParent===window?c("Vector").getScrollPosition().y+k:c("Vector").getElementPosition(this._scrollParent).y+k;if(j-this._offset<l){this._inViewHandler();this.removeEventListeners();return true}return false};i.prototype.removeEventListeners=function(){"use strict";if(this._hasEventHandlers){this._scrollListener&&this._scrollListener.remove();this._clickListener&&this._clickListener.remove();this._hasEventHandlers=false}};i.prototype.setPagerInViewHandler=function(j){"use strict";this._inViewHandler=j;return this};i.prototype._defaultPagerInViewHandler=function(){"use strict";var j=c("DOMQuery").scry(this._pager,"a")[0];if(j)c("AsyncRequest").bootstrap(j.getAttribute("ajaxify")||j.href,j)};i.getInstance=function(j){"use strict";return h[j]};f.exports=i}),null);
__d("XUISubNavigationItemsAndNavigationShortcutsHighlighting",["cx","Event","DOM","CSS","throttle","ge"],(function a(b,c,d,e,f,g,h){"use strict";var i="_2yaa",j="_2yau",k="_2yap",l="_8ue",m="_4t7n",n="data-endpoint";o.init=function(p){return new o(p)};function o(p){var q=[];for(var r=0;r<p.length;r++){var s=p[r];q=q.concat(c("DOM").scry(s,"div."+i))}for(var t=0;t<q.length;t++){var u=q[t],v=c("DOM").find(u,"a."+j);c("Event").listen(u,"click",c("throttle")(o.removeHighlightingFromAllItemsExceptForURI.bind(this,v.getAttribute(n))))}}o.removeHighlightingFromAllItemsExceptForURI=function(p){var q=c("ge")("entity_sidebar"),r=c("DOM").scry(q,"div."+i);for(var s=0;s<r.length;s++){var t=r[s],u=c("DOM").find(t,"a."+j);if(u.getAttribute(n)!==p){c("CSS").removeClass(t,l);c("CSS").removeClass(t,k);c("CSS").removeClass(t,m)}}};f.exports=o}),null);
__d("PageNuxFrameworkActions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({REGISTER_NUX:"nux_framework.register_nux",INIT_SURFACE:"nux_framework.init_surface",SHOW_NUX:"nux_framework.show_nux",XOUT:"nux_framework.xout",HOLD:"nux_framework.hold"})}),null);
__d("CurrentPage",["invariant","Run"],(function a(b,c,d,e,f,g,h){"use strict";var i=null,j=null,k={init:function l(m){var n=m.pageID,o=m.pageName;this.setID(n);this.setName(o);c("Run").onLeave(this._clear)},getID:function l(){i!==null||h(0);return i},setID:function l(m){if(!i)i=m},getName:function l(){j!==null||h(0);return j},setName:function l(m){if(!j)j=m},_clear:function l(){i=null;j=null}};f.exports=k}),null);